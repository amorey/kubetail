(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();const Xt=!1,Zt=(e,t)=>e===t,ie=Symbol("solid-proxy"),Be=Symbol("solid-track"),De={equals:Zt};let Pt=_t;const V=1,ke=2,Mt={owned:null,cleanups:null,context:null,owner:null},Ue={};var P=null;let We=null,es=null,I=null,N=null,G=null,Qe=0;function Pe(e,t){const s=I,n=P,r=e.length===0,i=t===void 0?n:t,a=r?Mt:{owned:null,cleanups:null,context:i?i.context:null,owner:i},o=r?e:()=>e(()=>K(()=>Oe(a)));P=a,I=null;try{return z(o,!0)}finally{I=s,P=n}}function L(e,t){t=t?Object.assign({},De,t):De;const s={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},n=r=>(typeof r=="function"&&(r=r(s.value)),Ft(s,r));return[kt.bind(s),n]}function Me(e,t,s){const n=qe(e,t,!0,V);me(n)}function oe(e,t,s){const n=qe(e,t,!1,V);me(n)}function gt(e,t,s){Pt=ls;const n=qe(e,t,!1,V);n.user=!0,G?G.push(n):me(n)}function W(e,t,s){s=s?Object.assign({},De,s):De;const n=qe(e,t,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=s.equals||void 0,me(n),kt.bind(n)}function ts(e){return e&&typeof e=="object"&&"then"in e}function ss(e,t,s){let n,r,i;typeof t=="function"?(n=e,r=t,i={}):(n=!0,r=e,i=t||{});let a=null,o=Ue,u=!1,c="initialValue"in i,l=typeof n=="function"&&W(n);const h=new Set,[d,f]=(i.storage||L)(i.initialValue),[y,p]=L(void 0),[m,g]=L(void 0,{equals:!1}),[w,A]=L(c?"ready":"unresolved");function b(R,S,C,x){return a===R&&(a=null,x!==void 0&&(c=!0),(R===o||S===o)&&i.onHydrated&&queueMicrotask(()=>i.onHydrated(x,{value:S})),o=Ue,O(S,C)),S}function O(R,S){z(()=>{S===void 0&&f(()=>R),A(S!==void 0?"errored":c?"ready":"unresolved"),p(S);for(const C of h.keys())C.decrement();h.clear()},!1)}function T(){const R=is,S=d(),C=y();if(C!==void 0&&!a)throw C;return I&&I.user,S}function E(R=!0){if(R!==!1&&u)return;u=!1;const S=l?l():n;if(S==null||S===!1){b(a,K(d));return}let C;const x=o!==Ue?o:K(()=>{try{return r(S,{value:d(),refetching:R})}catch(_){C=_}});if(C!==void 0){b(a,void 0,Ie(C),S);return}else if(!ts(x))return b(a,x,void 0,S),x;return a=x,"v"in x?(x.s===1?b(a,x.v,void 0,S):b(a,void 0,Ie(x.v),S),x):(u=!0,queueMicrotask(()=>u=!1),z(()=>{A(c?"refreshing":"pending"),g()},!1),x.then(_=>b(x,_,void 0,S),_=>b(x,void 0,Ie(_),S)))}Object.defineProperties(T,{state:{get:()=>w()},error:{get:()=>y()},loading:{get(){const R=w();return R==="pending"||R==="refreshing"}},latest:{get(){if(!c)return T();const R=y();if(R&&!a)throw R;return d()}}});let M=P;return l?Me(()=>(M=P,E(!1))):E(!1),[T,{refetch:R=>ns(M,()=>E(R)),mutate:f}]}function Ge(e){return z(e,!1)}function K(e){if(I===null)return e();const t=I;I=null;try{return e()}finally{I=t}}function Ke(e,t,s){const n=Array.isArray(e);let r,i=s&&s.defer;return a=>{let o;if(n){o=Array(e.length);for(let c=0;c<e.length;c++)o[c]=e[c]()}else o=e();if(i)return i=!1,a;const u=K(()=>t(o,r,a));return r=o,u}}function J(e){return P===null||(P.cleanups===null?P.cleanups=[e]:P.cleanups.push(e)),e}function ze(){return I}function ns(e,t){const s=P,n=I;P=e,I=null;try{return z(t,!0)}catch(r){lt(r)}finally{P=s,I=n}}const[_n,$n]=L(!1);function It(e,t){const s=Symbol("context");return{id:s,Provider:us(s),defaultValue:e}}function Dt(e){let t;return P&&P.context&&(t=P.context[e.id])!==void 0?t:e.defaultValue}function rs(e){const t=W(e),s=W(()=>Ve(t()));return s.toArray=()=>{const n=s();return Array.isArray(n)?n:n!=null?[n]:[]},s}let is;function kt(){if(this.sources&&this.state)if(this.state===V)me(this);else{const e=N;N=null,z(()=>_e(this),!1),N=e}if(I){const e=this.observers?this.observers.length:0;I.sources?(I.sources.push(this),I.sourceSlots.push(e)):(I.sources=[this],I.sourceSlots=[e]),this.observers?(this.observers.push(I),this.observerSlots.push(I.sources.length-1)):(this.observers=[I],this.observerSlots=[I.sources.length-1])}return this.value}function Ft(e,t,s){let n=e.value;return(!e.comparator||!e.comparator(n,t))&&(e.value=t,e.observers&&e.observers.length&&z(()=>{for(let r=0;r<e.observers.length;r+=1){const i=e.observers[r],a=We&&We.running;a&&We.disposed.has(i),(a?!i.tState:!i.state)&&(i.pure?N.push(i):G.push(i),i.observers&&$t(i)),a||(i.state=V)}if(N.length>1e6)throw N=[],new Error},!1)),t}function me(e){if(!e.fn)return;Oe(e);const t=Qe;os(e,e.value,t)}function os(e,t,s){let n;const r=P,i=I;I=P=e;try{n=e.fn(t)}catch(a){return e.pure&&(e.state=V,e.owned&&e.owned.forEach(Oe),e.owned=null),e.updatedAt=s+1,lt(a)}finally{I=i,P=r}(!e.updatedAt||e.updatedAt<=s)&&(e.updatedAt!=null&&"observers"in e?Ft(e,n):e.value=n,e.updatedAt=s)}function qe(e,t,s,n=V,r){const i={fn:e,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:P,context:P?P.context:null,pure:s};return P===null||P!==Mt&&(P.owned?P.owned.push(i):P.owned=[i]),i}function Fe(e){if(e.state===0)return;if(e.state===ke)return _e(e);if(e.suspense&&K(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Qe);)e.state&&t.push(e);for(let s=t.length-1;s>=0;s--)if(e=t[s],e.state===V)me(e);else if(e.state===ke){const n=N;N=null,z(()=>_e(e,t[0]),!1),N=n}}function z(e,t){if(N)return e();let s=!1;t||(N=[]),G?s=!0:G=[],Qe++;try{const n=e();return as(s),n}catch(n){s||(G=null),N=null,lt(n)}}function as(e){if(N&&(_t(N),N=null),e)return;const t=G;G=null,t.length&&z(()=>Pt(t),!1)}function _t(e){for(let t=0;t<e.length;t++)Fe(e[t])}function ls(e){let t,s=0;for(t=0;t<e.length;t++){const n=e[t];n.user?e[s++]=n:Fe(n)}for(t=0;t<s;t++)Fe(e[t])}function _e(e,t){e.state=0;for(let s=0;s<e.sources.length;s+=1){const n=e.sources[s];if(n.sources){const r=n.state;r===V?n!==t&&(!n.updatedAt||n.updatedAt<Qe)&&Fe(n):r===ke&&_e(n,t)}}}function $t(e){for(let t=0;t<e.observers.length;t+=1){const s=e.observers[t];s.state||(s.state=ke,s.pure?N.push(s):G.push(s),s.observers&&$t(s))}}function Oe(e){let t;if(e.sources)for(;e.sources.length;){const s=e.sources.pop(),n=e.sourceSlots.pop(),r=s.observers;if(r&&r.length){const i=r.pop(),a=s.observerSlots.pop();n<r.length&&(i.sourceSlots[a]=n,r[n]=i,s.observerSlots[n]=a)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)Oe(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)Oe(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Ie(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function lt(e,t=P){throw Ie(e)}function Ve(e){if(typeof e=="function"&&!e.length)return Ve(e());if(Array.isArray(e)){const t=[];for(let s=0;s<e.length;s++){const n=Ve(e[s]);Array.isArray(n)?t.push.apply(t,n):t.push(n)}return t}return e}function us(e,t){return function(n){let r;return oe(()=>r=K(()=>(P.context={...P.context,[e]:n.value},rs(()=>n.children))),void 0),r}}const cs=Symbol("fallback");function mt(e){for(let t=0;t<e.length;t++)e[t]()}function fs(e,t,s={}){let n=[],r=[],i=[],a=0,o=t.length>1?[]:null;return J(()=>mt(i)),()=>{let u=e()||[],c=u.length,l,h;return u[Be],K(()=>{let f,y,p,m,g,w,A,b,O;if(c===0)a!==0&&(mt(i),i=[],n=[],r=[],a=0,o&&(o=[])),s.fallback&&(n=[cs],r[0]=Pe(T=>(i[0]=T,s.fallback())),a=1);else if(a===0){for(r=new Array(c),h=0;h<c;h++)n[h]=u[h],r[h]=Pe(d);a=c}else{for(p=new Array(c),m=new Array(c),o&&(g=new Array(c)),w=0,A=Math.min(a,c);w<A&&n[w]===u[w];w++);for(A=a-1,b=c-1;A>=w&&b>=w&&n[A]===u[b];A--,b--)p[b]=r[A],m[b]=i[A],o&&(g[b]=o[A]);for(f=new Map,y=new Array(b+1),h=b;h>=w;h--)O=u[h],l=f.get(O),y[h]=l===void 0?-1:l,f.set(O,h);for(l=w;l<=A;l++)O=n[l],h=f.get(O),h!==void 0&&h!==-1?(p[h]=r[l],m[h]=i[l],o&&(g[h]=o[l]),h=y[h],f.set(O,h)):i[l]();for(h=w;h<c;h++)h in p?(r[h]=p[h],i[h]=m[h],o&&(o[h]=g[h],o[h](h))):r[h]=Pe(d);r=r.slice(0,a=c),n=u.slice(0)}return r});function d(f){if(i[h]=f,o){const[y,p]=L(h);return o[h]=p,t(u[h],y)}return t(u[h])}}}function U(e,t){return K(()=>e(t||{}))}const hs=e=>`Stale read from <${e}>.`;function ds(e){const t="fallback"in e&&{fallback:()=>e.fallback};return W(fs(()=>e.each,e.children,t||void 0))}function ne(e){const t=e.keyed,s=W(()=>e.when,void 0,void 0),n=t?s:W(s,void 0,{equals:(r,i)=>!r==!i});return W(()=>{const r=n();if(r){const i=e.children;return typeof i=="function"&&i.length>0?K(()=>i(t?r:()=>{if(!K(n))throw hs("Show");return s()})):i}return e.fallback},void 0,void 0)}const He=e=>W(()=>e());function ps(e,t,s){let n=s.length,r=t.length,i=n,a=0,o=0,u=t[r-1].nextSibling,c=null;for(;a<r||o<i;){if(t[a]===s[o]){a++,o++;continue}for(;t[r-1]===s[i-1];)r--,i--;if(r===a){const l=i<n?o?s[o-1].nextSibling:s[i-o]:u;for(;o<i;)e.insertBefore(s[o++],l)}else if(i===o)for(;a<r;)(!c||!c.has(t[a]))&&t[a].remove(),a++;else if(t[a]===s[i-1]&&s[o]===t[r-1]){const l=t[--r].nextSibling;e.insertBefore(s[o++],t[a++].nextSibling),e.insertBefore(s[--i],l),t[r]=s[i]}else{if(!c){c=new Map;let h=o;for(;h<i;)c.set(s[h],h++)}const l=c.get(t[a]);if(l!=null)if(o<l&&l<i){let h=a,d=1,f;for(;++h<r&&h<i&&!((f=c.get(t[h]))==null||f!==l+d);)d++;if(d>l-o){const y=t[a];for(;o<l;)e.insertBefore(s[o++],y)}else e.replaceChild(s[o++],t[a++])}else a++;else t[a++].remove()}}}const bt="_$DX_DELEGATE";function ys(e,t,s,n={}){let r;return Pe(i=>{r=i,t===document?e():k(t,e(),t.firstChild?null:void 0,s)},n.owner),()=>{r(),t.textContent=""}}function Y(e,t,s,n){let r;const i=()=>{const o=document.createElement("template");return o.innerHTML=e,o.content.firstChild},a=()=>(r||(r=i())).cloneNode(!0);return a.cloneNode=a,a}function gs(e,t=window.document){const s=t[bt]||(t[bt]=new Set);for(let n=0,r=e.length;n<r;n++){const i=e[n];s.has(i)||(s.add(i),t.addEventListener(i,ws))}}function ms(e,t){t==null?e.removeAttribute("class"):e.className=t}function v(e,t,s){s!=null?e.style.setProperty(t,s):e.style.removeProperty(t)}function bs(e,t,s){return K(()=>e(t,s))}function k(e,t,s,n){if(s!==void 0&&!n&&(n=[]),typeof t!="function")return $e(e,t,n,s);oe(r=>$e(e,t(),r,s),n)}function ws(e){let t=e.target;const s=`$$${e.type}`,n=e.target,r=e.currentTarget,i=u=>Object.defineProperty(e,"target",{configurable:!0,value:u}),a=()=>{const u=t[s];if(u&&!t.disabled){const c=t[`${s}Data`];if(c!==void 0?u.call(t,c,e):u.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&i(t.host),!0},o=()=>{for(;a()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const u=e.composedPath();i(u[0]);for(let c=0;c<u.length-2&&(t=u[c],!!a());c++){if(t._$host){t=t._$host,o();break}if(t.parentNode===r)break}}else o();i(n)}function $e(e,t,s,n,r){for(;typeof s=="function";)s=s();if(t===s)return s;const i=typeof t,a=n!==void 0;if(e=a&&s[0]&&s[0].parentNode||e,i==="string"||i==="number"){if(i==="number"&&(t=t.toString(),t===s))return s;if(a){let o=s[0];o&&o.nodeType===3?o.data!==t&&(o.data=t):o=document.createTextNode(t),s=de(e,s,n,o)}else s!==""&&typeof s=="string"?s=e.firstChild.data=t:s=e.textContent=t}else if(t==null||i==="boolean")s=de(e,s,n);else{if(i==="function")return oe(()=>{let o=t();for(;typeof o=="function";)o=o();s=$e(e,o,s,n)}),()=>s;if(Array.isArray(t)){const o=[],u=s&&Array.isArray(s);if(Je(o,t,s,r))return oe(()=>s=$e(e,o,s,n,!0)),()=>s;if(o.length===0){if(s=de(e,s,n),a)return s}else u?s.length===0?wt(e,o,n):ps(e,s,o):(s&&de(e),wt(e,o));s=o}else if(t.nodeType){if(Array.isArray(s)){if(a)return s=de(e,s,n,t);de(e,s,null,t)}else s==null||s===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);s=t}}return s}function Je(e,t,s,n){let r=!1;for(let i=0,a=t.length;i<a;i++){let o=t[i],u=s&&s[e.length],c;if(!(o==null||o===!0||o===!1))if((c=typeof o)=="object"&&o.nodeType)e.push(o);else if(Array.isArray(o))r=Je(e,o,u)||r;else if(c==="function")if(n){for(;typeof o=="function";)o=o();r=Je(e,Array.isArray(o)?o:[o],Array.isArray(u)?u:[u])||r}else e.push(o),r=!0;else{const l=String(o);u&&u.nodeType===3&&u.data===l?e.push(u):e.push(document.createTextNode(l))}}return r}function wt(e,t,s=null){for(let n=0,r=t.length;n<r;n++)e.insertBefore(t[n],s)}function de(e,t,s,n){if(s===void 0)return e.textContent="";const r=n||document.createTextNode("");if(t.length){let i=!1;for(let a=t.length-1;a>=0;a--){const o=t[a];if(r!==o){const u=o.parentNode===e;!i&&!a?u?e.replaceChild(r,o):e.insertBefore(r,s):u&&o.remove()}else i=!0}}else e.insertBefore(r,s);return[r]}var Ee=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},vs={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Ss=class{#e=vs;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},re=new Ss;function Os(e){setTimeout(e,0)}var ge=typeof window>"u"||"Deno"in globalThis;function Q(){}function As(e,t){return typeof e=="function"?e(t):e}function Ye(e){return typeof e=="number"&&e>=0&&e!==1/0}function Nt(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Z(e,t){return typeof e=="function"?e(t):e}function j(e,t){return typeof e=="function"?e(t):e}function vt(e,t){const{type:s="all",exact:n,fetchStatus:r,predicate:i,queryKey:a,stale:o}=e;if(a){if(n){if(t.queryHash!==ut(a,t.options))return!1}else if(!Ce(t.queryKey,a))return!1}if(s!=="all"){const u=t.isActive();if(s==="active"&&!u||s==="inactive"&&u)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||r&&r!==t.state.fetchStatus||i&&!i(t))}function St(e,t){const{exact:s,status:n,predicate:r,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(s){if(Ae(t.options.mutationKey)!==Ae(i))return!1}else if(!Ce(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||r&&!r(t))}function ut(e,t){return(t?.queryKeyHashFn||Ae)(e)}function Ae(e){return JSON.stringify(e,(t,s)=>Ze(s)?Object.keys(s).sort().reduce((n,r)=>(n[r]=s[r],n),{}):s)}function Ce(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(s=>Ce(e[s],t[s])):!1}var Cs=Object.prototype.hasOwnProperty;function Lt(e,t){if(e===t)return e;const s=Ot(e)&&Ot(t);if(!s&&!(Ze(e)&&Ze(t)))return t;const r=(s?e:Object.keys(e)).length,i=s?t:Object.keys(t),a=i.length,o=s?new Array(a):{};let u=0;for(let c=0;c<a;c++){const l=s?c:i[c],h=e[l],d=t[l];if(h===d){o[l]=h,(s?c<r:Cs.call(e,l))&&u++;continue}if(h===null||d===null||typeof h!="object"||typeof d!="object"){o[l]=d;continue}const f=Lt(h,d);o[l]=f,f===h&&u++}return r===a&&u===r?e:o}function Xe(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}function Ot(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ze(e){if(!At(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!At(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function At(e){return Object.prototype.toString.call(e)==="[object Object]"}function Ts(e){return new Promise(t=>{re.setTimeout(t,e)})}function et(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?Lt(e,t):t}function Es(e,t,s=0){const n=[...e,t];return s&&n.length>s?n.slice(1):n}function Rs(e,t,s=0){const n=[t,...e];return s&&n.length>s?n.slice(0,-1):n}var ct=Symbol();function Qt(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===ct?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function xs(e,t){return typeof e=="function"?e(...t):!!e}var Ps=class extends Ee{#e;#t;#s;constructor(){super(),this.#s=e=>{if(!ge&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#s=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},ft=new Ps;function tt(){let e,t;const s=new Promise((r,i)=>{e=r,t=i});s.status="pending",s.catch(()=>{});function n(r){Object.assign(s,r),delete s.resolve,delete s.reject}return s.resolve=r=>{n({status:"fulfilled",value:r}),e(r)},s.reject=r=>{n({status:"rejected",reason:r}),t(r)},s}function Ms(e){let t;if(e.then(s=>(t=s,s),Q)?.catch(Q),t!==void 0)return{data:t}}function Is(e){return e}function Ds(e,t,s){if(typeof t!="object"||t===null)return;const n=e.getMutationCache(),r=e.getQueryCache(),i=e.getDefaultOptions().hydrate?.deserializeData??Is,a=t.mutations||[],o=t.queries||[];a.forEach(({state:u,...c})=>{n.build(e,{...e.getDefaultOptions().hydrate?.mutations,...s?.defaultOptions?.mutations,...c},u)}),o.forEach(({queryKey:u,state:c,queryHash:l,meta:h,promise:d,dehydratedAt:f})=>{const y=d?Ms(d):void 0,p=c.data===void 0?y?.data:c.data,m=p===void 0?p:i(p);let g=r.get(l);const w=g?.state.status==="pending",A=g?.state.fetchStatus==="fetching";if(g){const b=y&&f!==void 0&&f>g.state.dataUpdatedAt;if(c.dataUpdatedAt>g.state.dataUpdatedAt||b){const{fetchStatus:O,...T}=c;g.setState({...T,data:m})}}else g=r.build(e,{...e.getDefaultOptions().hydrate?.queries,...s?.defaultOptions?.queries,queryKey:u,queryHash:l,meta:h},{...c,data:m,fetchStatus:"idle",status:m!==void 0?"success":c.status});d&&!w&&!A&&(f===void 0||f>g.state.dataUpdatedAt)&&g.fetch(void 0,{initialPromise:Promise.resolve(d).then(i)})})}var ks=Os;function Fs(){let e=[],t=0,s=o=>{o()},n=o=>{o()},r=ks;const i=o=>{t?e.push(o):r(()=>{s(o)})},a=()=>{const o=e;e=[],o.length&&r(()=>{n(()=>{o.forEach(u=>{s(u)})})})};return{batch:o=>{let u;t++;try{u=o()}finally{t--,t||a()}return u},batchCalls:o=>(...u)=>{i(()=>{o(...u)})},schedule:i,setNotifyFunction:o=>{s=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{r=o}}}var $=Fs(),_s=class extends Ee{#e=!0;#t;#s;constructor(){super(),this.#s=e=>{if(!ge&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#s=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(s=>{s(e)}))}isOnline(){return this.#e}},Ne=new _s;function $s(e){return Math.min(1e3*2**e,3e4)}function qt(e){return(e??"online")==="online"?Ne.isOnline():!0}var st=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function jt(e){let t=!1,s=0,n;const r=tt(),i=()=>r.status!=="pending",a=p=>{if(!i()){const m=new st(p);d(m),e.onCancel?.(m)}},o=()=>{t=!0},u=()=>{t=!1},c=()=>ft.isFocused()&&(e.networkMode==="always"||Ne.isOnline())&&e.canRun(),l=()=>qt(e.networkMode)&&e.canRun(),h=p=>{i()||(n?.(),r.resolve(p))},d=p=>{i()||(n?.(),r.reject(p))},f=()=>new Promise(p=>{n=m=>{(i()||c())&&p(m)},e.onPause?.()}).then(()=>{n=void 0,i()||e.onContinue?.()}),y=()=>{if(i())return;let p;const m=s===0?e.initialPromise:void 0;try{p=m??e.fn()}catch(g){p=Promise.reject(g)}Promise.resolve(p).then(h).catch(g=>{if(i())return;const w=e.retry??(ge?0:3),A=e.retryDelay??$s,b=typeof A=="function"?A(s,g):A,O=w===!0||typeof w=="number"&&s<w||typeof w=="function"&&w(s,g);if(t||!O){d(g);return}s++,e.onFail?.(s,g),Ts(b).then(()=>c()?void 0:f()).then(()=>{t?d(g):y()})})};return{promise:r,status:()=>r.status,cancel:a,continue:()=>(n?.(),r),cancelRetry:o,continueRetry:u,canStart:l,start:()=>(l()?y():f().then(y),r)}}var Ut=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ye(this.gcTime)&&(this.#e=re.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ge?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(re.clearTimeout(this.#e),this.#e=void 0)}},Ns=class extends Ut{#e;#t;#s;#n;#r;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.client,this.#s=this.#n.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Ct(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=Ct(this.options);t.data!==void 0&&(this.setData(t.data,{updatedAt:t.dataUpdatedAt,manual:!0}),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#s.remove(this)}setData(e,t){const s=et(this.state.data,e,this.options);return this.#i({data:s,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),s}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(Q).catch(Q):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>j(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ct||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Z(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Nt(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const o=this.observers.find(u=>u.options.queryFn);o&&this.setOptions(o.options)}const s=new AbortController,n=o=>{Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(this.#o=!0,s.signal)})},r=()=>{const o=Qt(this.options,t),c=(()=>{const l={client:this.#n,queryKey:this.queryKey,meta:this.meta};return n(l),l})();return this.#o=!1,this.options.persister?this.options.persister(o,c,this):o(c)},a=(()=>{const o={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:r};return n(o),o})();this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#i({type:"fetch",meta:a.fetchOptions?.meta}),this.#r=jt({initialPromise:t?.initialPromise,fn:a.fetchFn,onCancel:o=>{o instanceof st&&o.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(o,u)=>{this.#i({type:"failed",failureCount:o,error:u})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0});try{const o=await this.#r.start();if(o===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(o),this.#s.config.onSuccess?.(o,this),this.#s.config.onSettled?.(o,this.state.error,this),o}catch(o){if(o instanceof st){if(o.silent)return this.#r.promise;if(o.revert){if(this.state.data===void 0)throw o;return this.state.data}}throw this.#i({type:"error",error:o}),this.#s.config.onError?.(o,this),this.#s.config.onSettled?.(this.state.data,o,this),o}finally{this.scheduleGc()}}#i(e){const t=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Wt(s.data,this.options),fetchMeta:e.meta??null};case"success":const n={...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?n:void 0,n;case"error":const r=e.error;return{...s,error:r,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),$.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:e})})}};function Wt(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:qt(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Ct(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,n=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var Ls=class extends Ee{constructor(e,t){super(),this.options=t,this.#e=e,this.#i=null,this.#o=tt(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#s=void 0;#n=void 0;#r;#a;#o;#i;#y;#h;#d;#u;#c;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Tt(this.#t,this.options)?this.#f():this.updateResult(),this.#w())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return nt(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return nt(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#v(),this.#S(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,s=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof j(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#O(),this.#t.setOptions(this.options),t._defaulted&&!Xe(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const n=this.hasListeners();n&&Et(this.#t,s,this.options,t)&&this.#f(),this.updateResult(),n&&(this.#t!==s||j(this.options.enabled,this.#t)!==j(t.enabled,this.#t)||Z(this.options.staleTime,this.#t)!==Z(t.staleTime,this.#t))&&this.#g();const r=this.#m();n&&(this.#t!==s||j(this.options.enabled,this.#t)!==j(t.enabled,this.#t)||r!==this.#l)&&this.#b(r)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),s=this.createResult(t,e);return qs(this,s)&&(this.#n=s,this.#a=this.options,this.#r=this.#t.state),s}getCurrentResult(){return this.#n}trackResult(e,t){return new Proxy(e,{get:(s,n)=>(this.trackProp(n),t?.(n),n==="promise"&&!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(s,n))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),s=this.#e.getQueryCache().build(this.#e,t);return s.fetch().then(()=>this.createResult(s,t))}fetch(e){return this.#f({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#f(e){this.#O();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Q)),t}#g(){this.#v();const e=Z(this.options.staleTime,this.#t);if(ge||this.#n.isStale||!Ye(e))return;const s=Nt(this.#n.dataUpdatedAt,e)+1;this.#u=re.setTimeout(()=>{this.#n.isStale||this.updateResult()},s)}#m(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#b(e){this.#S(),this.#l=e,!(ge||j(this.options.enabled,this.#t)===!1||!Ye(this.#l)||this.#l===0)&&(this.#c=re.setInterval(()=>{(this.options.refetchIntervalInBackground||ft.isFocused())&&this.#f()},this.#l))}#w(){this.#g(),this.#b(this.#m())}#v(){this.#u&&(re.clearTimeout(this.#u),this.#u=void 0)}#S(){this.#c&&(re.clearInterval(this.#c),this.#c=void 0)}createResult(e,t){const s=this.#t,n=this.options,r=this.#n,i=this.#r,a=this.#a,u=e!==s?e.state:this.#s,{state:c}=e;let l={...c},h=!1,d;if(t._optimisticResults){const M=this.hasListeners(),R=!M&&Tt(e,t),S=M&&Et(e,s,t,n);(R||S)&&(l={...l,...Wt(c.data,e.options)}),t._optimisticResults==="isRestoring"&&(l.fetchStatus="idle")}let{error:f,errorUpdatedAt:y,status:p}=l;d=l.data;let m=!1;if(t.placeholderData!==void 0&&d===void 0&&p==="pending"){let M;r?.isPlaceholderData&&t.placeholderData===a?.placeholderData?(M=r.data,m=!0):M=typeof t.placeholderData=="function"?t.placeholderData(this.#d?.state.data,this.#d):t.placeholderData,M!==void 0&&(p="success",d=et(r?.data,M,t),h=!0)}if(t.select&&d!==void 0&&!m)if(r&&d===i?.data&&t.select===this.#y)d=this.#h;else try{this.#y=t.select,d=t.select(d),d=et(r?.data,d,t),this.#h=d,this.#i=null}catch(M){this.#i=M}this.#i&&(f=this.#i,d=this.#h,y=Date.now(),p="error");const g=l.fetchStatus==="fetching",w=p==="pending",A=p==="error",b=w&&g,O=d!==void 0,E={status:p,fetchStatus:l.fetchStatus,isPending:w,isSuccess:p==="success",isError:A,isInitialLoading:b,isLoading:b,data:d,dataUpdatedAt:l.dataUpdatedAt,error:f,errorUpdatedAt:y,failureCount:l.fetchFailureCount,failureReason:l.fetchFailureReason,errorUpdateCount:l.errorUpdateCount,isFetched:l.dataUpdateCount>0||l.errorUpdateCount>0,isFetchedAfterMount:l.dataUpdateCount>u.dataUpdateCount||l.errorUpdateCount>u.errorUpdateCount,isFetching:g,isRefetching:g&&!w,isLoadingError:A&&!O,isPaused:l.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:A&&O,isStale:ht(e,t),refetch:this.refetch,promise:this.#o,isEnabled:j(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const M=C=>{E.status==="error"?C.reject(E.error):E.data!==void 0&&C.resolve(E.data)},R=()=>{const C=this.#o=E.promise=tt();M(C)},S=this.#o;switch(S.status){case"pending":e.queryHash===s.queryHash&&M(S);break;case"fulfilled":(E.status==="error"||E.data!==S.value)&&R();break;case"rejected":(E.status!=="error"||E.error!==S.reason)&&R();break}}return E}updateResult(){const e=this.#n,t=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#a=this.options,this.#r.data!==void 0&&(this.#d=this.#t),Xe(t,e))return;this.#n=t;const s=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,r=typeof n=="function"?n():n;if(r==="all"||!r&&!this.#p.size)return!0;const i=new Set(r??this.#p);return this.options.throwOnError&&i.add("error"),Object.keys(this.#n).some(a=>{const o=a;return this.#n[o]!==e[o]&&i.has(o)})};this.#A({listeners:s()})}#O(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#s=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#w()}#A(e){$.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Qs(e,t){return j(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Tt(e,t){return Qs(e,t)||e.state.data!==void 0&&nt(e,t,t.refetchOnMount)}function nt(e,t,s){if(j(t.enabled,e)!==!1&&Z(t.staleTime,e)!=="static"){const n=typeof s=="function"?s(e):s;return n==="always"||n!==!1&&ht(e,t)}return!1}function Et(e,t,s,n){return(e!==t||j(n.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&ht(e,s)}function ht(e,t){return j(t.enabled,e)!==!1&&e.isStaleByTime(Z(t.staleTime,e))}function qs(e,t){return!Xe(e.getCurrentResult(),t)}function Rt(e){return{onFetch:(t,s)=>{const n=t.options,r=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],a=t.state.data?.pageParams||[];let o={pages:[],pageParams:[]},u=0;const c=async()=>{let l=!1;const h=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?l=!0:t.signal.addEventListener("abort",()=>{l=!0}),t.signal)})},d=Qt(t.options,t.fetchOptions),f=async(y,p,m)=>{if(l)return Promise.reject();if(p==null&&y.pages.length)return Promise.resolve(y);const w=(()=>{const T={client:t.client,queryKey:t.queryKey,pageParam:p,direction:m?"backward":"forward",meta:t.options.meta};return h(T),T})(),A=await d(w),{maxPages:b}=t.options,O=m?Rs:Es;return{pages:O(y.pages,A,b),pageParams:O(y.pageParams,p,b)}};if(r&&i.length){const y=r==="backward",p=y?js:xt,m={pages:i,pageParams:a},g=p(n,m);o=await f(m,g,y)}else{const y=e??i.length;do{const p=u===0?a[0]??n.initialPageParam:xt(n,o);if(u>0&&p==null)break;o=await f(o,p),u++}while(u<y)}return o};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s):t.fetchFn=c}}}function xt(e,{pages:t,pageParams:s}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,s[n],s):void 0}function js(e,{pages:t,pageParams:s}){return t.length>0?e.getPreviousPageParam?.(t[0],t,s[0],s):void 0}var Us=class extends Ut{#e;#t;#s;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||Ws(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})};this.#s=jt({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(r,i)=>{this.#n({type:"failed",failureCount:r,error:i})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const s=this.state.status==="pending",n=!this.#s.canStart();try{if(s)t();else{this.#n({type:"pending",variables:e,isPaused:n}),await this.#t.config.onMutate?.(e,this);const i=await this.options.onMutate?.(e);i!==this.state.context&&this.#n({type:"pending",context:i,variables:e,isPaused:n})}const r=await this.#s.start();return await this.#t.config.onSuccess?.(r,e,this.state.context,this),await this.options.onSuccess?.(r,e,this.state.context),await this.#t.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,e,this.state.context),this.#n({type:"success",data:r}),r}catch(r){try{throw await this.#t.config.onError?.(r,e,this.state.context,this),await this.options.onError?.(r,e,this.state.context),await this.#t.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,r,e,this.state.context),r}finally{this.#n({type:"error",error:r})}}finally{this.#t.runNext(this)}}#n(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),$.batch(()=>{this.#e.forEach(s=>{s.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function Ws(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ks=class extends Ee{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#s=0}#e;#t;#s;build(e,t,s){const n=new Us({mutationCache:this,mutationId:++this.#s,options:e.defaultMutationOptions(t),state:s});return this.add(n),n}add(e){this.#e.add(e);const t=xe(e);if(typeof t=="string"){const s=this.#t.get(t);s?s.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=xe(e);if(typeof t=="string"){const s=this.#t.get(t);if(s)if(s.length>1){const n=s.indexOf(e);n!==-1&&s.splice(n,1)}else s[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=xe(e);if(typeof t=="string"){const n=this.#t.get(t)?.find(r=>r.state.status==="pending");return!n||n===e}else return!0}runNext(e){const t=xe(e);return typeof t=="string"?this.#t.get(t)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){$.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(s=>St(t,s))}findAll(e={}){return this.getAll().filter(t=>St(e,t))}notify(e){$.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return $.batch(()=>Promise.all(e.map(t=>t.continue().catch(Q))))}};function xe(e){return e.options.scope?.id}var Hs=class extends Ee{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,s){const n=t.queryKey,r=t.queryHash??ut(n,t);let i=this.get(r);return i||(i=new Ns({client:e,queryKey:n,queryHash:r,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(n)}),this.add(i)),i}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){$.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(s=>vt(t,s))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(s=>vt(e,s)):t}notify(e){$.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){$.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){$.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Bs=class{#e;#t;#s;#n;#r;#a;#o;#i;constructor(t={}){this.#e=t.queryCache||new Hs,this.#t=t.mutationCache||new Ks,this.#s=t.defaultOptions||{},this.#n=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=ft.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Ne.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const s=this.defaultQueryOptions({queryKey:t});return this.#e.get(s.queryHash)?.state.data}ensureQueryData(t){const s=this.defaultQueryOptions(t),n=this.#e.build(this,s),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Z(s.staleTime,n))&&this.prefetchQuery(s),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:s,state:n})=>{const r=n.data;return[s,r]})}setQueryData(t,s,n){const r=this.defaultQueryOptions({queryKey:t}),a=this.#e.get(r.queryHash)?.state.data,o=As(s,a);if(o!==void 0)return this.#e.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,s,n){return $.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,s,n)]))}getQueryState(t){const s=this.defaultQueryOptions({queryKey:t});return this.#e.get(s.queryHash)?.state}removeQueries(t){const s=this.#e;$.batch(()=>{s.findAll(t).forEach(n=>{s.remove(n)})})}resetQueries(t,s){const n=this.#e;return $.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},s)))}cancelQueries(t,s={}){const n={revert:!0,...s},r=$.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Q).catch(Q)}invalidateQueries(t,s={}){return $.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},s)))}refetchQueries(t,s={}){const n={...s,cancelRefetch:s.cancelRefetch??!0},r=$.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(Q)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Q)}fetchQuery(t){const s=this.defaultQueryOptions(t);s.retry===void 0&&(s.retry=!1);const n=this.#e.build(this,s);return n.isStaleByTime(Z(s.staleTime,n))?n.fetch(s):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Q).catch(Q)}fetchInfiniteQuery(t){return t.behavior=Rt(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Q).catch(Q)}ensureInfiniteQueryData(t){return t.behavior=Rt(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ne.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#s}setDefaultOptions(t){this.#s=t}setQueryDefaults(t,s){this.#n.set(Ae(t),{queryKey:t,defaultOptions:s})}getQueryDefaults(t){const s=[...this.#n.values()],n={};return s.forEach(r=>{Ce(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,s){this.#r.set(Ae(t),{mutationKey:t,defaultOptions:s})}getMutationDefaults(t){const s=[...this.#r.values()],n={};return s.forEach(r=>{Ce(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const s={...this.#s.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return s.queryHash||(s.queryHash=ut(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===ct&&(s.enabled=!1),s}defaultMutationOptions(t){return t?._defaulted?t:{...this.#s.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}};const rt=Symbol("store-raw"),ye=Symbol("store-node"),B=Symbol("store-has"),Kt=Symbol("store-self");function Ht(e){let t=e[ie];if(!t&&(Object.defineProperty(e,ie,{value:t=new Proxy(e,Vs)}),!Array.isArray(e))){const s=Object.keys(e),n=Object.getOwnPropertyDescriptors(e);for(let r=0,i=s.length;r<i;r++){const a=s[r];n[a].get&&Object.defineProperty(e,a,{enumerable:n[a].enumerable,get:n[a].get.bind(t)})}}return t}function ee(e){let t;return e!=null&&typeof e=="object"&&(e[ie]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function ae(e,t=new Set){let s,n,r,i;if(s=e!=null&&e[rt])return s;if(!ee(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let a=0,o=e.length;a<o;a++)r=e[a],(n=ae(r,t))!==r&&(e[a]=n)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const a=Object.keys(e),o=Object.getOwnPropertyDescriptors(e);for(let u=0,c=a.length;u<c;u++)i=a[u],!o[i].get&&(r=e[i],(n=ae(r,t))!==r&&(e[i]=n))}return e}function Le(e,t){let s=e[t];return s||Object.defineProperty(e,t,{value:s=Object.create(null)}),s}function Te(e,t,s){if(e[t])return e[t];const[n,r]=L(s,{equals:!1,internal:!0});return n.$=r,e[t]=n}function Gs(e,t){const s=Reflect.getOwnPropertyDescriptor(e,t);return!s||s.get||!s.configurable||t===ie||t===ye||(delete s.value,delete s.writable,s.get=()=>e[ie][t]),s}function Bt(e){ze()&&Te(Le(e,ye),Kt)()}function zs(e){return Bt(e),Reflect.ownKeys(e)}const Vs={get(e,t,s){if(t===rt)return e;if(t===ie)return s;if(t===Be)return Bt(e),s;const n=Le(e,ye),r=n[t];let i=r?r():e[t];if(t===ye||t===B||t==="__proto__")return i;if(!r){const a=Object.getOwnPropertyDescriptor(e,t);ze()&&(typeof i!="function"||e.hasOwnProperty(t))&&!(a&&a.get)&&(i=Te(n,t,i)())}return ee(i)?Ht(i):i},has(e,t){return t===rt||t===ie||t===Be||t===ye||t===B||t==="__proto__"?!0:(ze()&&Te(Le(e,B),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:zs,getOwnPropertyDescriptor:Gs};function q(e,t,s,n=!1){if(!n&&e[t]===s)return;const r=e[t],i=e.length;s===void 0?(delete e[t],e[B]&&e[B][t]&&r!==void 0&&e[B][t].$()):(e[t]=s,e[B]&&e[B][t]&&r===void 0&&e[B][t].$());let a=Le(e,ye),o;if((o=Te(a,t,r))&&o.$(()=>s),Array.isArray(e)&&e.length!==i){for(let u=e.length;u<i;u++)(o=a[u])&&o.$();(o=Te(a,"length",i))&&o.$(e.length)}(o=a[Kt])&&o.$()}function Gt(e,t){const s=Object.keys(t);for(let n=0;n<s.length;n+=1){const r=s[n];q(e,r,t[r])}}function Js(e,t){if(typeof t=="function"&&(t=t(e)),t=ae(t),Array.isArray(t)){if(e===t)return;let s=0,n=t.length;for(;s<n;s++){const r=t[s];e[s]!==r&&q(e,s,r)}q(e,"length",n)}else Gt(e,t)}function Se(e,t,s=[]){let n,r=e;if(t.length>1){n=t.shift();const a=typeof n,o=Array.isArray(e);if(Array.isArray(n)){for(let u=0;u<n.length;u++)Se(e,[n[u]].concat(t),s);return}else if(o&&a==="function"){for(let u=0;u<e.length;u++)n(e[u],u)&&Se(e,[u].concat(t),s);return}else if(o&&a==="object"){const{from:u=0,to:c=e.length-1,by:l=1}=n;for(let h=u;h<=c;h+=l)Se(e,[h].concat(t),s);return}else if(t.length>1){Se(e[n],t,[n].concat(s));return}r=e[n],s=[n].concat(s)}let i=t[0];typeof i=="function"&&(i=i(r,s),i===r)||n===void 0&&i==null||(i=ae(i),n===void 0||ee(r)&&ee(i)&&!Array.isArray(i)?Gt(r,i):q(e,n,i))}function zt(...[e,t]){const s=ae(e||{}),n=Array.isArray(s),r=Ht(s);function i(...a){Ge(()=>{n&&a.length===1?Js(s,a[0]):Se(s,a)})}return[r,i]}const it=Symbol("store-root");function pe(e,t,s,n,r){const i=t[s];if(e===i)return;const a=Array.isArray(e);if(s!==it&&(!ee(e)||!ee(i)||a!==Array.isArray(i)||r&&e[r]!==i[r])){q(t,s,e);return}if(a){if(e.length&&i.length&&(!n||r&&e[0]&&e[0][r]!=null)){let c,l,h,d,f,y,p,m;for(h=0,d=Math.min(i.length,e.length);h<d&&(i[h]===e[h]||r&&i[h]&&e[h]&&i[h][r]&&i[h][r]===e[h][r]);h++)pe(e[h],i,h,n,r);const g=new Array(e.length),w=new Map;for(d=i.length-1,f=e.length-1;d>=h&&f>=h&&(i[d]===e[f]||r&&i[d]&&e[f]&&i[d][r]&&i[d][r]===e[f][r]);d--,f--)g[f]=i[d];if(h>f||h>d){for(l=h;l<=f;l++)q(i,l,e[l]);for(;l<e.length;l++)q(i,l,g[l]),pe(e[l],i,l,n,r);i.length>e.length&&q(i,"length",e.length);return}for(p=new Array(f+1),l=f;l>=h;l--)y=e[l],m=r&&y?y[r]:y,c=w.get(m),p[l]=c===void 0?-1:c,w.set(m,l);for(c=h;c<=d;c++)y=i[c],m=r&&y?y[r]:y,l=w.get(m),l!==void 0&&l!==-1&&(g[l]=i[c],l=p[l],w.set(m,l));for(l=h;l<e.length;l++)l in g?(q(i,l,g[l]),pe(e[l],i,l,n,r)):q(i,l,e[l])}else for(let c=0,l=e.length;c<l;c++)pe(e[c],i,c,n,r);i.length>e.length&&q(i,"length",e.length);return}const o=Object.keys(e);for(let c=0,l=o.length;c<l;c++)pe(e[o[c]],i,o[c],n,r);const u=Object.keys(i);for(let c=0,l=u.length;c<l;c++)e[u[c]]===void 0&&q(i,u[c],void 0)}function ot(e,t={}){const{merge:s,key:n="id"}=t,r=ae(e);return i=>{if(!ee(i)||!ee(r))return r;const a=pe(r,{[it]:i},it,s,n);return a===void 0?i:a}}var Vt=It(void 0),Ys=e=>{if(e)return e;const t=Dt(Vt);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t()},Xs=e=>(oe(t=>(t?.(),e.client.mount(),e.client.unmount.bind(e.client))),J(()=>e.client.unmount()),U(Vt.Provider,{value:()=>e.client,get children(){return e.children}})),Zs=It(()=>!1),en=()=>Dt(Zs);function tn(e,t,s,n){if(s===!1)return t;if(typeof s=="function"){const a=s(e.data,t.data);return{...t,data:a}}let r=t.data;if(e.data===void 0)try{r=structuredClone(r)}catch{}const i=ot(r,{key:s})(e.data);return{...t,data:i}}var sn=(e,t)=>t;function nn(e,t,s){const n=W(()=>Ys(s?.())),r=en(),i=W(()=>{const b=n().defaultQueryOptions(e());return b._optimisticResults=r()?"isRestoring":"optimistic",b.structuralSharing=!1,b}),a=i(),[o,u]=L(new t(n(),i()));let c=o().getOptimisticResult(i());const[l,h]=zt(c),d=()=>o().subscribe(O=>{c=O,queueMicrotask(()=>{p&&w()})});function f(b){const O=o().options,T=O.reconcile;h(E=>tn(E,b,T===void 0?!1:T,O.queryHash))}function y(){return[()=>l,b=>{const O=ae(l);if(typeof b=="function"&&(b=b(O)),b?.hydrationData){const{hydrationData:T,...E}=b;b=E}f(b)}]}let p=null,m=null;const[g,{refetch:w}]=ss(()=>{const b=o();return new Promise((O,T)=>{if(m=O,!p&&!r()&&(p=d()),b.updateResult(),c.isError&&!c.isFetching&&!r()&&xs(b.options.throwOnError,[c.error,b.getCurrentQuery()]))return f(c),T(c.error);if(!c.isLoading)return m=null,O(sn(b.getCurrentQuery(),c));f(c)})},{storage:y,get deferStream(){return e().deferStream},onHydrated(b,O){if(O.value&&"hydrationData"in O.value&&Ds(n(),{queries:[{...O.value.hydrationData}]}),p)return;const T={...a};(a.staleTime||!a.initialData)&&O.value&&(T.refetchOnMount=!1),o().setOptions(T),f(o().getOptimisticResult(T)),p=d()}});Me(Ke(n,b=>{p&&p();const O=new t(b,i());p=d(),u(O)},{defer:!0})),Me(Ke(r,b=>{b||w()},{defer:!0})),J(()=>{p&&(p(),p=null),m&&(m(c),m=null)}),Me(Ke([o,i],([b,O])=>{b.setOptions(O),f(b.getOptimisticResult(O)),w()},{defer:!0}));const A={get(b,O){return O==="data"?l.data!==void 0?g.latest?.data:g()?.data:Reflect.get(b,O)}};return new Proxy(l,A)}function rn(e,t){return nn(W(()=>e()),Ls,t)}var on=class extends Bs{constructor(e={}){super(e)}},an=rn;function ln(...e){return e.map((t,s)=>s===0?t.replace(/\/+$/,""):t.replace(/^\/+|\/+$/g,"")).join("/")}let ve;function un(){if(ve)return ve;const{pathname:e}=window.location;if(e.includes("/proxy/")){const t=e.match(/^(.*?)\/proxy\//);t&&([ve]=t)}else ve="/";return ve}const cn=`
  query LogMetadataListFetch($namespace: String = "") {
    logMetadataList(namespace: $namespace) {
      items {
        id
        spec { nodeName namespace podName containerName containerID }
        fileInfo { size lastModifiedAt }
      }
    }
  }
`,fn=`
  subscription LogMetadataListWatch($namespace: String = "") {
    logMetadataWatch(namespace: $namespace) {
      type
      object {
        id
        spec { nodeName namespace podName containerName containerID }
        fileInfo { size lastModifiedAt }
      }
    }
  }
`;function at(){const e=un();return new URL(ln(e,"cluster-api-proxy","minikube","kubetail-system","kubetail-cluster-api","graphql"),window.location.origin).toString()}async function hn(e,t="",s,n){const r=at(),i={query:cn,variables:{namespace:t}},a=await e.post(r,i,{headers:{"content-type":"application/json"}});if(n?.enabled&&n.recordWorkerOperation("http"),a.status<200||a.status>=300)throw new Error(`HTTP ${a.status}`);let o;if(s&&a.body.length>1e3?(o=await s.parse(a.body),n?.enabled&&n.recordWorkerOperation("json")):o=JSON.parse(a.body),o.errors)throw new Error("GraphQL error");return o.data?.logMetadataList?.items??[]}function dn(e){return new Worker("/assets/data-worker-DUh7BuXX.js",{name:e?.name})}function pn(){const[e,t]=L([]),[s,n]=L(null),r=()=>{if(s())return s();const l=new dn;return l.addEventListener("message",h=>{const{type:d,payload:f}=h.data;switch(d){case"SORTED_IDS":t(f.ids);break;case"ERROR":console.error("Worker error:",f.message);break}}),n(l),l},i=l=>{const h={};for(const d of l)h[d.id]={id:d.id,spec:{nodeName:d.spec.nodeName,namespace:d.spec.namespace,podName:d.spec.podName,containerName:d.spec.containerName,containerID:d.spec.containerID},fileInfo:{size:d.fileInfo.size,lastModifiedAt:d.fileInfo.lastModifiedAt},lastModifiedAtDate:d.fileInfo.lastModifiedAt?new Date(d.fileInfo.lastModifiedAt).getTime():void 0};return h},a=l=>{const h=r(),d=i(l);h.postMessage({type:"INIT",payload:d})},o=l=>{const h=s();if(!h)return;const d=i(l);h.postMessage({type:"UPSERT",payload:d})},u=l=>{const h=s();h&&h.postMessage({type:"DELETE",payload:{ids:l}})},c=()=>{const l=s();l&&l.postMessage({type:"GET_SORTED_IDS"})};return J(()=>{const l=s();l&&(l.terminate(),n(null))}),{sortedIds:e,initData:a,upsertItems:o,deleteItems:u,getSortedIds:c}}function yn(e){return new Worker("/assets/animation-worker-CecNSZzZ.js",{name:e?.name})}function gn(){const[e,t]=L(60);let s=null,n=0;const r=new Map,i=()=>s||(s=new yn,s.addEventListener("message",d=>{const{type:f,id:y}=d.data,p=r.get(y);switch(f){case"ANIMATION_FRAME":{const{progress:m,elapsed:g}=d.data;p?.onFrame?.(m,g);break}case"ANIMATION_COMPLETE":{p?.onComplete?.(),r.delete(y);break}case"ANIMATION_STOPPED":{p?.onStop?.(),r.delete(y);break}case"FRAME_RATE_UPDATED":{const{fps:m}=d.data;t(m);break}}}),s),a=(d,f={})=>{const y=String(++n),p=i();return r.set(y,f),p.postMessage({type:"START_ANIMATION",id:y,config:d}),{stop:()=>{p.postMessage({type:"STOP_ANIMATION",id:y})},pause:()=>{p.postMessage({type:"PAUSE_ANIMATION",id:y})},resume:()=>{p.postMessage({type:"RESUME_ANIMATION",id:y})},id:y}},o=(d,f=300,y)=>(d.style.opacity="0",a({duration:f,easing:"ease-out"},{onFrame:p=>{d.style.opacity=String(p)},onComplete:y})),u=(d,f=300,y)=>{const p=parseFloat(getComputedStyle(d).opacity)||1;return a({duration:f,easing:"ease-in"},{onFrame:m=>{d.style.opacity=String(p*(1-m))},onComplete:y})},c=(d,f=800,y="flash",p)=>(d.classList.add(y),a({duration:f,easing:"ease-out"},{onComplete:()=>{d.classList.remove(y),p?.()}})),l=(d,f,y,p=500,m)=>{const g=f.x??0,w=f.y??0,A=y.x??0,b=y.y??0;return d.style.transform=`translate(${g}px, ${w}px)`,a({duration:p,easing:"ease-out"},{onFrame:O=>{const T=g+(A-g)*O,E=w+(b-w)*O;d.style.transform=`translate(${T}px, ${E}px)`},onComplete:m})},h=d=>{i().postMessage({type:"SET_FRAME_RATE",fps:d})};return J(()=>{s&&(r.forEach((d,f)=>{s.postMessage({type:"STOP_ANIMATION",id:f})}),s.terminate(),s=null),r.clear()}),{animate:a,fadeIn:o,fadeOut:u,flash:c,slide:l,setFrameRate:h,currentFrameRate:e}}function mn(e){return new Worker("/assets/websocket-worker-nDYEKq7i.js",{name:e?.name})}function bn(){const[e,t]=L(!1),[s,n]=L(!1);let r=null;const i=()=>r||(r=new mn,r.addEventListener("message",u=>{const{type:c}=u.data;switch(c){case"CONNECTED":t(!0),n(!1);break;case"DISCONNECTED":t(!1),n(!1);break;case"RECONNECTING":n(!0);break;case"ERROR":console.error("WebSocket Worker error:",u.data.error);break}}),r),a=(u,c,l,h,d)=>{const f=i(),y=p=>{const{type:m,data:g,error:w}=p.data;switch(m){case"MESSAGE":h(g);break;case"ERROR":d?.(w);break}};return f.addEventListener("message",y),f.postMessage({type:"CONNECT",url:u,protocols:c,payload:l}),()=>{f.removeEventListener("message",y),f.postMessage({type:"DISCONNECT"})}},o=u=>{r&&r.postMessage({type:"SEND",data:u})};return J(()=>{r&&(r.postMessage({type:"DISCONNECT"}),r.terminate(),r=null)}),{subscribeGraphQL:a,send:o,isConnected:e,isReconnecting:s}}function wn(e){return new Worker("/assets/connection-worker--sUK6sAn.js",{name:e?.name})}function vn(){let e=null,t=0;const s=new Map,n=()=>e||(e=new wn,e.addEventListener("message",f=>{const{type:y,id:p}=f.data;switch(y){case"HTTP_RESPONSE":{const{status:m,headers:g,body:w}=f.data,A=s.get(p);A&&(s.delete(p),A.resolve({status:m,headers:g,body:w}));break}case"HTTP_ERROR":{const{error:m,status:g}=f.data,w=s.get(p);if(w){s.delete(p);const A=new Error(m);g!==void 0&&(A.status=g),w.reject(A)}break}case"REQUEST_CANCELLED":{const m=s.get(p);m&&(s.delete(p),m.reject(new Error("Request cancelled")));break}}}),e),r=f=>{n().postMessage({type:"CONFIG",config:f})},i=(f,y,p,m={})=>new Promise((g,w)=>{const A=String(++t),b=n();s.set(A,{resolve:g,reject:w});const O={id:A,method:f,url:y,headers:m.headers,body:p?JSON.stringify(p):void 0,timeout:m.timeout};b.postMessage({type:"HTTP_REQUEST",request:O})}),a=(f,y)=>i("GET",f,void 0,y),o=(f,y,p)=>i("POST",f,y,p),u=(f,y,p)=>i("PUT",f,y,p),c=(f,y)=>i("DELETE",f,void 0,y),l=(f,y,p)=>i("PATCH",f,y,p),h=f=>{const y=f.map(({method:p,url:m,body:g,options:w={}})=>{const A=String(++t),b=n();return new Promise((O,T)=>{s.set(A,{resolve:O,reject:T});const E={id:A,method:p,url:m,headers:w.headers,body:g?JSON.stringify(g):void 0,timeout:w.timeout};b.postMessage({type:"BATCH_REQUESTS",requests:[E]})})});return Promise.all(y)},d=f=>{const y=e;y&&y.postMessage({type:"CANCEL_REQUEST",id:f})};return J(()=>{e&&(e.terminate(),e=null),s.forEach(({reject:f})=>{f(new Error("Worker terminated"))}),s.clear()}),{configure:r,get:a,post:o,put:u,delete:c,patch:l,batchRequests:h,cancel:d}}function Sn(e){return new Worker("/assets/json-worker-DrxyrYtI.js",{name:e?.name})}function On(){let e=null,t=0;const s=new Map,n=()=>e||(e=new Sn,e.addEventListener("message",u=>{const{type:c,id:l,result:h,error:d}=u.data,f=s.get(l);if(f)if(s.delete(l),d)f.reject(new Error(d));else switch(c){case"PARSE_RESULT":case"STRINGIFY_RESULT":f.resolve(h);break;default:f.reject(new Error("Unknown response type"))}}),e),r=u=>new Promise((c,l)=>{const h=String(++t),d=n();s.set(h,{resolve:c,reject:l}),d.postMessage({type:"PARSE",id:h,data:u})}),i=u=>new Promise((c,l)=>{const h=String(++t),d=n();s.set(h,{resolve:c,reject:l}),d.postMessage({type:"STRINGIFY",id:h,data:u})}),a=u=>JSON.parse(u),o=u=>JSON.stringify(u);return J(()=>{e&&(e.terminate(),e=null),s.forEach(({reject:u})=>{u(new Error("Worker terminated"))}),s.clear()}),{parse:r,stringify:i,parseSync:a,stringifySync:o}}function An(e=!1){const[t,s]=L({mainThreadTime:0,workerTime:0,jsonParseCount:0,httpRequestCount:0,animationFrameCount:0,dataProcessingCount:0,wsMessageCount:0});return{metrics:t,startTimer:()=>performance.now(),recordMainThreadTime:u=>{if(!e)return;const c=performance.now()-u;s(l=>({...l,mainThreadTime:l.mainThreadTime+c}))},recordWorkerOperation:(u,c)=>{e&&s(l=>{const h=c??(()=>{switch(u){case"json":return 5;case"http":return 50;case"data":return 10;case"animation":return 16;case"websocket":return 2;default:return 1}})(),d={workerTime:l.workerTime+h};switch(u){case"json":d.jsonParseCount=l.jsonParseCount+1;break;case"http":d.httpRequestCount=l.httpRequestCount+1;break;case"animation":d.animationFrameCount=l.animationFrameCount+1;break;case"data":d.dataProcessingCount=l.dataProcessingCount+1;break;case"websocket":d.wsMessageCount=l.wsMessageCount+1;break}return{...l,...d}})},reset:()=>{s({mainThreadTime:0,workerTime:0,jsonParseCount:0,httpRequestCount:0,animationFrameCount:0,dataProcessingCount:0,wsMessageCount:0})},getEfficiencyRatio:()=>{const u=t(),c=u.mainThreadTime+u.workerTime;return c===0?0:u.workerTime/c*100},enabled:e}}var Cn=Y("<span style=color:#666>Fetching..."),Tn=Y("<span style=color:#4ade80>● Connected"),En=Y("<span style=color:#f59e0b>● Reconnecting..."),Rn=Y("<span style=color:#ef4444>● Disconnected"),xn=Y("<div style=margin-left:auto;font-size:12px><span>Workers: <!>% offloaded</span><span>Ops: <!>J <!>H <!>W</span><span>Main: <!>ms</span><span>Worker: <!>ms"),Pn=Y("<tr><td colspan=7>No items"),Mn=Y(`<div style="font-family:ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial"><h1 style=font-size:20px;margin-bottom:12px>Kubetail Dashboard (Solid POC)</h1><div style=align-items:center;margin-bottom:12px><label for=ns>Namespace:</label><input id=ns placeholder="Leave empty for all"style=border-radius:4px><button style=border-radius:4px>Refresh</button></div><div><table><thead><tr><th>Node</th><th>Namespace</th><th>Pod</th><th>Container</th><th>Container ID</th><th>Size (bytes)</th><th>Last Event</th></tr></thead><tbody></tbody></table></div><style>
        .flash { background-color: #eaffea; transition: background-color 0.8s ease; }
      `),In=Y("<tr><td colspan=7>Loading..."),Dn=Y("<tr><td></td><td></td><td></td><td></td><td style=font-family:monospace></td><td></td><td>");function kn(){const[e,t]=L(""),[s,n]=zt({}),r=new Map,{sortedIds:i,initData:a,upsertItems:o,deleteItems:u}=pn(),{flash:c}=gn(),l=bn(),h=vn(),d=On(),f=An(!1);h.configure({baseUrl:new URL(at()).origin,timeout:3e4,retryAttempts:3,retryDelay:1e3});const y=an(()=>({queryKey:["log-metadata",e()],queryFn:()=>hn(h,e(),d,f),refetchOnWindowFocus:!1}));return gt(()=>{const p=f.startTimer(),m=y.data??[],g={};for(const w of m)g[w.id]={...w,lastModifiedAtDate:w.fileInfo.lastModifiedAt?new Date(w.fileInfo.lastModifiedAt):null};Ge(()=>{n(ot(g)),a(m),f.enabled&&(f.recordWorkerOperation("data"),f.recordMainThreadTime(p)),r.clear()})}),gt(()=>{const p=e(),m=new Map,g=new Set,w=()=>{const E=f.enabled?f.startTimer():0,M=[];Ge(()=>{g.size&&g.forEach(S=>{s[S]&&n(S,void 0)}),m.size&&m.forEach((S,C)=>{const x=s[C],_=S.fileInfo.lastModifiedAt?new Date(S.fileInfo.lastModifiedAt):null;if(x){const le=x.lastModifiedAtDate?.getTime()??0,be=_?.getTime()??0,Re=S.fileInfo.size!==x.fileInfo.size,D=be!==le;Re&&n(C,"fileInfo","size",S.fileInfo.size),D&&n(C,"lastModifiedAtDate",_),n(C,"spec",ot(S.spec)),S.fileInfo.lastModifiedAt!==void 0&&n(C,"fileInfo","lastModifiedAt",S.fileInfo.lastModifiedAt),(Re||D)&&M.push(C)}else n(C,{...S,lastModifiedAtDate:_}),M.push(C)})}),m.size&&(o(Array.from(m.values())),f.enabled&&f.recordWorkerOperation("data")),g.size&&(u(Array.from(g)),f.enabled&&f.recordWorkerOperation("data")),m.clear();const R=Array.from(g);g.clear(),R.length&&R.forEach(S=>r.delete(S)),M.length&&requestAnimationFrame(()=>{M.forEach(S=>{const C=r.get(S);C&&(c(C,800,"flash"),f.enabled&&f.recordWorkerOperation("animation"))})}),f.enabled&&f.recordMainThreadTime(E)},A=window.setInterval(()=>{(m.size||g.size)&&w()},2e3),O=at().replace(/^http/,"ws"),T=l.subscribeGraphQL(O,["graphql-transport-ws","graphql-ws"],{query:fn,variables:{namespace:p}},async E=>{f.enabled&&f.recordWorkerOperation("websocket");let M=E;if(typeof E=="string")try{M=await d.parse(E),f.enabled&&f.recordWorkerOperation("json")}catch(_){console.error("Failed to parse WebSocket message:",_);return}const R=M?.payload?.data?.logMetadataWatch;if(!R)return;const{type:S,object:C}=R,x=C?.id;if(S==="ADDED"||S==="MODIFIED"){if(!C||!x)return;m.set(x,C),g.delete(x)}else if(S==="DELETED"){if(!x)return;m.delete(x),g.add(x)}},E=>{console.error("WebSocket Worker error:",E)});J(()=>{clearInterval(A),(m.size||g.size)&&w(),T()})}),(()=>{var p=Mn(),m=p.firstChild,g=m.nextSibling,w=g.firstChild,A=w.nextSibling,b=A.nextSibling,O=g.nextSibling,T=O.firstChild,E=T.firstChild,M=E.firstChild,R=M.firstChild,S=R.nextSibling,C=S.nextSibling,x=C.nextSibling,_=x.nextSibling,le=_.nextSibling,be=le.nextSibling,Re=E.nextSibling;return v(p,"padding","16px"),v(g,"display","flex"),v(g,"gap","8px"),A.$$input=D=>t(D.currentTarget.value),v(A,"padding","6px 8px"),v(A,"border","1px solid #ddd"),b.$$click=()=>y.refetch(),v(b,"padding","6px 10px"),v(b,"border","1px solid #ccc"),v(b,"cursor","pointer"),k(g,U(ne,{get when(){return y.isFetching},get children(){return Cn()}}),null),k(g,U(ne,{get when(){return l.isConnected()},get children(){return Tn()}}),null),k(g,U(ne,{get when(){return l.isReconnecting()},get children(){return En()}}),null),k(g,U(ne,{get when(){return He(()=>!l.isConnected())()&&!l.isReconnecting()},get children(){return Rn()}}),null),k(g,U(ne,{get when(){return f.enabled},get children(){var D=xn(),F=D.firstChild,ue=F.firstChild,te=ue.nextSibling;te.nextSibling;var H=F.nextSibling,ce=H.firstChild,se=ce.nextSibling,fe=se.nextSibling,X=fe.nextSibling,we=X.nextSibling,he=we.nextSibling;he.nextSibling;var je=H.nextSibling,Jt=je.firstChild,dt=Jt.nextSibling;dt.nextSibling;var pt=je.nextSibling,Yt=pt.firstChild,yt=Yt.nextSibling;return yt.nextSibling,v(D,"color","#666"),v(D,"display","flex"),v(D,"gap","12px"),k(F,()=>f.getEfficiencyRatio().toFixed(1),te),k(H,()=>f.metrics().jsonParseCount,se),k(H,()=>f.metrics().httpRequestCount,X),k(H,()=>f.metrics().wsMessageCount,he),k(je,()=>f.metrics().mainThreadTime.toFixed(0),dt),k(pt,()=>f.metrics().workerTime.toFixed(0),yt),D}}),null),v(T,"width","100%"),v(T,"borderCollapse","collapse"),v(T,"fontSize","14px"),v(T,"border","1px solid #eee"),v(M,"background","#fafafa"),v(R,"textAlign","left"),v(R,"padding","8px"),v(R,"borderBottom","1px solid #eee"),v(S,"textAlign","left"),v(S,"padding","8px"),v(S,"borderBottom","1px solid #eee"),v(C,"textAlign","left"),v(C,"padding","8px"),v(C,"borderBottom","1px solid #eee"),v(x,"textAlign","left"),v(x,"padding","8px"),v(x,"borderBottom","1px solid #eee"),v(_,"textAlign","left"),v(_,"padding","8px"),v(_,"borderBottom","1px solid #eee"),v(le,"textAlign","right"),v(le,"padding","8px"),v(le,"borderBottom","1px solid #eee"),v(be,"textAlign","left"),v(be,"padding","8px"),v(be,"borderBottom","1px solid #eee"),k(Re,U(ne,{get when(){return!y.isLoading},get fallback(){return(()=>{var D=In(),F=D.firstChild;return v(F,"padding","12px"),D})()},get children(){return[U(ds,{get each(){return i()},children:D=>{const F=s[D];return F?(()=>{var ue=Dn(),te=ue.firstChild,H=te.nextSibling,ce=H.nextSibling,se=ce.nextSibling,fe=se.nextSibling,X=fe.nextSibling,we=X.nextSibling;return bs(he=>r.set(D,he),ue),ms(ue,`row-${D}`),v(te,"padding","8px"),v(te,"borderBottom","1px solid #f3f3f3"),k(te,()=>F.spec.nodeName),v(H,"padding","8px"),v(H,"borderBottom","1px solid #f3f3f3"),k(H,()=>F.spec.namespace),v(ce,"padding","8px"),v(ce,"borderBottom","1px solid #f3f3f3"),k(ce,()=>F.spec.podName),v(se,"padding","8px"),v(se,"borderBottom","1px solid #f3f3f3"),k(se,()=>F.spec.containerName),v(fe,"padding","8px"),v(fe,"borderBottom","1px solid #f3f3f3"),k(fe,()=>F.spec.containerID),v(X,"padding","8px"),v(X,"borderBottom","1px solid #f3f3f3"),v(X,"textAlign","right"),k(X,()=>F.fileInfo.size),v(we,"padding","8px"),v(we,"borderBottom","1px solid #f3f3f3"),k(we,(()=>{var he=He(()=>!!F.lastModifiedAtDate);return()=>he()?F.lastModifiedAtDate.toLocaleString():"—"})()),ue})():null}}),U(ne,{get when(){return He(()=>i().length===0)()&&!y.isLoading},get children(){var D=Pn(),F=D.firstChild;return v(F,"padding","12px"),v(F,"color","#666"),D}})]}})),oe(()=>b.disabled=y.isLoading),oe(()=>A.value=e()),p})()}gs(["input","click"]);const Fn=new on({defaultOptions:{queries:{gcTime:6e4,retry:1,refetchOnWindowFocus:!1}}});ys(()=>U(Xs,{client:Fn,get children(){return U(kn,{})}}),document.getElementById("root"));
