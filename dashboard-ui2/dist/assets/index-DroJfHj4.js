(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=s(i);fetch(i.href,r)}})();const Ut=!1,kt=(e,t)=>e===t,J=Symbol("solid-proxy"),je=Symbol("solid-track"),Ae={equals:kt};let vt=xt;const H=1,Ce=2,wt={owned:null,cleanups:null,context:null,owner:null},Le={};var D=null;let $e=null,Kt=null,T=null,M=null,K=null,Ee=0;function we(e,t){const s=T,n=D,i=e.length===0,r=t===void 0?n:t,a=i?wt:{owned:null,cleanups:null,context:r?r.context:null,owner:r},o=i?e:()=>e(()=>_(()=>ae(a)));D=a,T=null;try{return B(o,!0)}finally{T=s,D=n}}function U(e,t){t=t?Object.assign({},Ae,t):Ae;const s={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},n=i=>(typeof i=="function"&&(i=i(s.value)),Ct(s,i));return[At.bind(s),n]}function Se(e,t,s){const n=Ie(e,t,!0,H);ne(n)}function X(e,t,s){const n=Ie(e,t,!1,H);ne(n)}function rt(e,t,s){vt=Xt;const n=Ie(e,t,!1,H);n.user=!0,K?K.push(n):ne(n)}function j(e,t,s){s=s?Object.assign({},Ae,s):Ae;const n=Ie(e,t,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=s.equals||void 0,ne(n),At.bind(n)}function Bt(e){return e&&typeof e=="object"&&"then"in e}function Ht(e,t,s){let n,i,r;typeof t=="function"?(n=e,i=t,r={}):(n=!0,i=e,r=t||{});let a=null,o=Le,f=!1,c="initialValue"in r,l=typeof n=="function"&&j(n);const u=new Set,[d,y]=(r.storage||U)(r.initialValue),[g,p]=U(void 0),[m,v]=U(void 0,{equals:!1}),[O,w]=U(c?"ready":"unresolved");function h(P,x,F,C){return a===P&&(a=null,C!==void 0&&(c=!0),(P===o||x===o)&&r.onHydrated&&queueMicrotask(()=>r.onHydrated(C,{value:x})),o=Le,b(x,F)),x}function b(P,x){B(()=>{x===void 0&&y(()=>P),w(x!==void 0?"errored":c?"ready":"unresolved"),p(x);for(const F of u.keys())F.decrement();u.clear()},!1)}function A(){const P=Wt,x=d(),F=g();if(F!==void 0&&!a)throw F;return T&&T.user,x}function R(P=!0){if(P!==!1&&f)return;f=!1;const x=l?l():n;if(x==null||x===!1){h(a,_(d));return}let F;const C=o!==Le?o:_(()=>{try{return i(x,{value:d(),refetching:P})}catch(q){F=q}});if(F!==void 0){h(a,void 0,Oe(F),x);return}else if(!Bt(C))return h(a,C,void 0,x),C;return a=C,"v"in C?(C.s===1?h(a,C.v,void 0,x):h(a,void 0,Oe(C.v),x),C):(f=!0,queueMicrotask(()=>f=!1),B(()=>{w(c?"refreshing":"pending"),v()},!1),C.then(q=>h(C,q,void 0,x),q=>h(C,void 0,Oe(q),x)))}Object.defineProperties(A,{state:{get:()=>O()},error:{get:()=>g()},loading:{get(){const P=O();return P==="pending"||P==="refreshing"}},latest:{get(){if(!c)return A();const P=g();if(P&&!a)throw P;return d()}}});let E=D;return l?Se(()=>(E=D,R(!1))):R(!1),[A,{refetch:P=>Gt(E,()=>R(P)),mutate:y}]}function Ne(e){return B(e,!1)}function _(e){if(T===null)return e();const t=T;T=null;try{return e()}finally{T=t}}function _e(e,t,s){const n=Array.isArray(e);let i,r=s&&s.defer;return a=>{let o;if(n){o=Array(e.length);for(let c=0;c<e.length;c++)o[c]=e[c]()}else o=e();if(r)return r=!1,a;const f=_(()=>t(o,i,a));return i=o,f}}function Fe(e){return D===null||(D.cleanups===null?D.cleanups=[e]:D.cleanups.push(e)),e}function Ue(){return T}function Gt(e,t){const s=D,n=T;D=e,T=null;try{return B(t,!0)}catch(i){et(i)}finally{D=s,T=n}}const[cn,fn]=U(!1);function St(e,t){const s=Symbol("context");return{id:s,Provider:Yt(s),defaultValue:e}}function Ot(e){let t;return D&&D.context&&(t=D.context[e.id])!==void 0?t:e.defaultValue}function zt(e){const t=j(e),s=j(()=>ke(t()));return s.toArray=()=>{const n=s();return Array.isArray(n)?n:n!=null?[n]:[]},s}let Wt;function At(){if(this.sources&&this.state)if(this.state===H)ne(this);else{const e=M;M=null,B(()=>Pe(this),!1),M=e}if(T){const e=this.observers?this.observers.length:0;T.sources?(T.sources.push(this),T.sourceSlots.push(e)):(T.sources=[this],T.sourceSlots=[e]),this.observers?(this.observers.push(T),this.observerSlots.push(T.sources.length-1)):(this.observers=[T],this.observerSlots=[T.sources.length-1])}return this.value}function Ct(e,t,s){let n=e.value;return(!e.comparator||!e.comparator(n,t))&&(e.value=t,e.observers&&e.observers.length&&B(()=>{for(let i=0;i<e.observers.length;i+=1){const r=e.observers[i],a=$e&&$e.running;a&&$e.disposed.has(r),(a?!r.tState:!r.state)&&(r.pure?M.push(r):K.push(r),r.observers&&Pt(r)),a||(r.state=H)}if(M.length>1e6)throw M=[],new Error},!1)),t}function ne(e){if(!e.fn)return;ae(e);const t=Ee;Vt(e,e.value,t)}function Vt(e,t,s){let n;const i=D,r=T;T=D=e;try{n=e.fn(t)}catch(a){return e.pure&&(e.state=H,e.owned&&e.owned.forEach(ae),e.owned=null),e.updatedAt=s+1,et(a)}finally{T=r,D=i}(!e.updatedAt||e.updatedAt<=s)&&(e.updatedAt!=null&&"observers"in e?Ct(e,n):e.value=n,e.updatedAt=s)}function Ie(e,t,s,n=H,i){const r={fn:e,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:D,context:D?D.context:null,pure:s};return D===null||D!==wt&&(D.owned?D.owned.push(r):D.owned=[r]),r}function xe(e){if(e.state===0)return;if(e.state===Ce)return Pe(e);if(e.suspense&&_(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Ee);)e.state&&t.push(e);for(let s=t.length-1;s>=0;s--)if(e=t[s],e.state===H)ne(e);else if(e.state===Ce){const n=M;M=null,B(()=>Pe(e,t[0]),!1),M=n}}function B(e,t){if(M)return e();let s=!1;t||(M=[]),K?s=!0:K=[],Ee++;try{const n=e();return Jt(s),n}catch(n){s||(K=null),M=null,et(n)}}function Jt(e){if(M&&(xt(M),M=null),e)return;const t=K;K=null,t.length&&B(()=>vt(t),!1)}function xt(e){for(let t=0;t<e.length;t++)xe(e[t])}function Xt(e){let t,s=0;for(t=0;t<e.length;t++){const n=e[t];n.user?e[s++]=n:xe(n)}for(t=0;t<s;t++)xe(e[t])}function Pe(e,t){e.state=0;for(let s=0;s<e.sources.length;s+=1){const n=e.sources[s];if(n.sources){const i=n.state;i===H?n!==t&&(!n.updatedAt||n.updatedAt<Ee)&&xe(n):i===Ce&&Pe(n,t)}}}function Pt(e){for(let t=0;t<e.observers.length;t+=1){const s=e.observers[t];s.state||(s.state=Ce,s.pure?M.push(s):K.push(s),s.observers&&Pt(s))}}function ae(e){let t;if(e.sources)for(;e.sources.length;){const s=e.sources.pop(),n=e.sourceSlots.pop(),i=s.observers;if(i&&i.length){const r=i.pop(),a=s.observerSlots.pop();n<i.length&&(r.sourceSlots[a]=n,i[n]=r,s.observerSlots[n]=a)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)ae(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)ae(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Oe(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function et(e,t=D){throw Oe(e)}function ke(e){if(typeof e=="function"&&!e.length)return ke(e());if(Array.isArray(e)){const t=[];for(let s=0;s<e.length;s++){const n=ke(e[s]);Array.isArray(n)?t.push.apply(t,n):t.push(n)}return t}return e}function Yt(e,t){return function(n){let i;return X(()=>i=_(()=>(D.context={...D.context,[e]:n.value},zt(()=>n.children))),void 0),i}}const Zt=Symbol("fallback");function ot(e){for(let t=0;t<e.length;t++)e[t]()}function es(e,t,s={}){let n=[],i=[],r=[],a=0,o=t.length>1?[]:null;return Fe(()=>ot(r)),()=>{let f=e()||[],c=f.length,l,u;return f[je],_(()=>{let y,g,p,m,v,O,w,h,b;if(c===0)a!==0&&(ot(r),r=[],n=[],i=[],a=0,o&&(o=[])),s.fallback&&(n=[Zt],i[0]=we(A=>(r[0]=A,s.fallback())),a=1);else if(a===0){for(i=new Array(c),u=0;u<c;u++)n[u]=f[u],i[u]=we(d);a=c}else{for(p=new Array(c),m=new Array(c),o&&(v=new Array(c)),O=0,w=Math.min(a,c);O<w&&n[O]===f[O];O++);for(w=a-1,h=c-1;w>=O&&h>=O&&n[w]===f[h];w--,h--)p[h]=i[w],m[h]=r[w],o&&(v[h]=o[w]);for(y=new Map,g=new Array(h+1),u=h;u>=O;u--)b=f[u],l=y.get(b),g[u]=l===void 0?-1:l,y.set(b,u);for(l=O;l<=w;l++)b=n[l],u=y.get(b),u!==void 0&&u!==-1?(p[u]=i[l],m[u]=r[l],o&&(v[u]=o[l]),u=g[u],y.set(b,u)):r[l]();for(u=O;u<c;u++)u in p?(i[u]=p[u],r[u]=m[u],o&&(o[u]=v[u],o[u](u))):i[u]=we(d);i=i.slice(0,a=c),n=f.slice(0)}return i});function d(y){if(r[u]=y,o){const[g,p]=U(u);return o[u]=p,t(f[u],g)}return t(f[u])}}}function W(e,t){return _(()=>e(t||{}))}const ts=e=>`Stale read from <${e}>.`;function ss(e){const t="fallback"in e&&{fallback:()=>e.fallback};return j(es(()=>e.each,e.children,t||void 0))}function qe(e){const t=e.keyed,s=j(()=>e.when,void 0,void 0),n=t?s:j(s,void 0,{equals:(i,r)=>!i==!r});return j(()=>{const i=n();if(i){const r=e.children;return typeof r=="function"&&r.length>0?_(()=>r(t?i:()=>{if(!_(n))throw ts("Show");return s()})):r}return e.fallback},void 0,void 0)}const at=e=>j(()=>e());function ns(e,t,s){let n=s.length,i=t.length,r=n,a=0,o=0,f=t[i-1].nextSibling,c=null;for(;a<i||o<r;){if(t[a]===s[o]){a++,o++;continue}for(;t[i-1]===s[r-1];)i--,r--;if(i===a){const l=r<n?o?s[o-1].nextSibling:s[r-o]:f;for(;o<r;)e.insertBefore(s[o++],l)}else if(r===o)for(;a<i;)(!c||!c.has(t[a]))&&t[a].remove(),a++;else if(t[a]===s[r-1]&&s[o]===t[i-1]){const l=t[--i].nextSibling;e.insertBefore(s[o++],t[a++].nextSibling),e.insertBefore(s[--r],l),t[i]=s[r]}else{if(!c){c=new Map;let u=o;for(;u<r;)c.set(s[u],u++)}const l=c.get(t[a]);if(l!=null)if(o<l&&l<r){let u=a,d=1,y;for(;++u<i&&u<r&&!((y=c.get(t[u]))==null||y!==l+d);)d++;if(d>l-o){const g=t[a];for(;o<l;)e.insertBefore(s[o++],g)}else e.replaceChild(s[o++],t[a++])}else a++;else t[a++].remove()}}}const lt="_$DX_DELEGATE";function is(e,t,s,n={}){let i;return we(r=>{i=r,t===document?e():N(t,e(),t.firstChild?null:void 0,s)},n.owner),()=>{i(),t.textContent=""}}function fe(e,t,s,n){let i;const r=()=>{const o=document.createElement("template");return o.innerHTML=e,o.content.firstChild},a=()=>(i||(i=r())).cloneNode(!0);return a.cloneNode=a,a}function rs(e,t=window.document){const s=t[lt]||(t[lt]=new Set);for(let n=0,i=e.length;n<i;n++){const r=e[n];s.has(r)||(s.add(r),t.addEventListener(r,ls))}}function os(e,t){t==null?e.removeAttribute("class"):e.className=t}function S(e,t,s){s!=null?e.style.setProperty(t,s):e.style.removeProperty(t)}function as(e,t,s){return _(()=>e(t,s))}function N(e,t,s,n){if(s!==void 0&&!n&&(n=[]),typeof t!="function")return De(e,t,n,s);X(i=>De(e,t(),i,s),n)}function ls(e){let t=e.target;const s=`$$${e.type}`,n=e.target,i=e.currentTarget,r=f=>Object.defineProperty(e,"target",{configurable:!0,value:f}),a=()=>{const f=t[s];if(f&&!t.disabled){const c=t[`${s}Data`];if(c!==void 0?f.call(t,c,e):f.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&r(t.host),!0},o=()=>{for(;a()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const f=e.composedPath();r(f[0]);for(let c=0;c<f.length-2&&(t=f[c],!!a());c++){if(t._$host){t=t._$host,o();break}if(t.parentNode===i)break}}else o();r(n)}function De(e,t,s,n,i){for(;typeof s=="function";)s=s();if(t===s)return s;const r=typeof t,a=n!==void 0;if(e=a&&s[0]&&s[0].parentNode||e,r==="string"||r==="number"){if(r==="number"&&(t=t.toString(),t===s))return s;if(a){let o=s[0];o&&o.nodeType===3?o.data!==t&&(o.data=t):o=document.createTextNode(t),s=Z(e,s,n,o)}else s!==""&&typeof s=="string"?s=e.firstChild.data=t:s=e.textContent=t}else if(t==null||r==="boolean")s=Z(e,s,n);else{if(r==="function")return X(()=>{let o=t();for(;typeof o=="function";)o=o();s=De(e,o,s,n)}),()=>s;if(Array.isArray(t)){const o=[],f=s&&Array.isArray(s);if(Ke(o,t,s,i))return X(()=>s=De(e,o,s,n,!0)),()=>s;if(o.length===0){if(s=Z(e,s,n),a)return s}else f?s.length===0?ut(e,o,n):ns(e,s,o):(s&&Z(e),ut(e,o));s=o}else if(t.nodeType){if(Array.isArray(s)){if(a)return s=Z(e,s,n,t);Z(e,s,null,t)}else s==null||s===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);s=t}}return s}function Ke(e,t,s,n){let i=!1;for(let r=0,a=t.length;r<a;r++){let o=t[r],f=s&&s[e.length],c;if(!(o==null||o===!0||o===!1))if((c=typeof o)=="object"&&o.nodeType)e.push(o);else if(Array.isArray(o))i=Ke(e,o,f)||i;else if(c==="function")if(n){for(;typeof o=="function";)o=o();i=Ke(e,Array.isArray(o)?o:[o],Array.isArray(f)?f:[f])||i}else e.push(o),i=!0;else{const l=String(o);f&&f.nodeType===3&&f.data===l?e.push(f):e.push(document.createTextNode(l))}}return i}function ut(e,t,s=null){for(let n=0,i=t.length;n<i;n++)e.insertBefore(t[n],s)}function Z(e,t,s,n){if(s===void 0)return e.textContent="";const i=n||document.createTextNode("");if(t.length){let r=!1;for(let a=t.length-1;a>=0;a--){const o=t[a];if(i!==o){const f=o.parentNode===e;!r&&!a?f?e.replaceChild(i,o):e.insertBefore(i,s):f&&o.remove()}else r=!0}}else e.insertBefore(i,s);return[i]}var he=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},us={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},cs=class{#e=us;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},V=new cs;function fs(e){setTimeout(e,0)}var se=typeof window>"u"||"Deno"in globalThis;function Q(){}function hs(e,t){return typeof e=="function"?e(t):e}function Be(e){return typeof e=="number"&&e>=0&&e!==1/0}function Dt(e,t){return Math.max(e+(t||0)-Date.now(),0)}function G(e,t){return typeof e=="function"?e(t):e}function $(e,t){return typeof e=="function"?e(t):e}function ct(e,t){const{type:s="all",exact:n,fetchStatus:i,predicate:r,queryKey:a,stale:o}=e;if(a){if(n){if(t.queryHash!==tt(a,t.options))return!1}else if(!ue(t.queryKey,a))return!1}if(s!=="all"){const f=t.isActive();if(s==="active"&&!f||s==="inactive"&&f)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||i&&i!==t.state.fetchStatus||r&&!r(t))}function ft(e,t){const{exact:s,status:n,predicate:i,mutationKey:r}=e;if(r){if(!t.options.mutationKey)return!1;if(s){if(le(t.options.mutationKey)!==le(r))return!1}else if(!ue(t.options.mutationKey,r))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function tt(e,t){return(t?.queryKeyHashFn||le)(e)}function le(e){return JSON.stringify(e,(t,s)=>Ge(s)?Object.keys(s).sort().reduce((n,i)=>(n[i]=s[i],n),{}):s)}function ue(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(s=>ue(e[s],t[s])):!1}var ds=Object.prototype.hasOwnProperty;function Rt(e,t){if(e===t)return e;const s=ht(e)&&ht(t);if(!s&&!(Ge(e)&&Ge(t)))return t;const i=(s?e:Object.keys(e)).length,r=s?t:Object.keys(t),a=r.length,o=s?new Array(a):{};let f=0;for(let c=0;c<a;c++){const l=s?c:r[c],u=e[l],d=t[l];if(u===d){o[l]=u,(s?c<i:ds.call(e,l))&&f++;continue}if(u===null||d===null||typeof u!="object"||typeof d!="object"){o[l]=d;continue}const y=Rt(u,d);o[l]=y,y===u&&f++}return i===a&&f===i?e:o}function He(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}function ht(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ge(e){if(!dt(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!dt(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function dt(e){return Object.prototype.toString.call(e)==="[object Object]"}function ps(e){return new Promise(t=>{V.setTimeout(t,e)})}function ze(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?Rt(e,t):t}function ys(e,t,s=0){const n=[...e,t];return s&&n.length>s?n.slice(1):n}function gs(e,t,s=0){const n=[t,...e];return s&&n.length>s?n.slice(0,-1):n}var st=Symbol();function Tt(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===st?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function ms(e,t){return typeof e=="function"?e(...t):!!e}var bs=class extends he{#e;#t;#s;constructor(){super(),this.#s=e=>{if(!se&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#s=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},nt=new bs;function We(){let e,t;const s=new Promise((i,r)=>{e=i,t=r});s.status="pending",s.catch(()=>{});function n(i){Object.assign(s,i),delete s.resolve,delete s.reject}return s.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},s.reject=i=>{n({status:"rejected",reason:i}),t(i)},s}function vs(e){let t;if(e.then(s=>(t=s,s),Q)?.catch(Q),t!==void 0)return{data:t}}function ws(e){return e}function Ss(e,t,s){if(typeof t!="object"||t===null)return;const n=e.getMutationCache(),i=e.getQueryCache(),r=e.getDefaultOptions().hydrate?.deserializeData??ws,a=t.mutations||[],o=t.queries||[];a.forEach(({state:f,...c})=>{n.build(e,{...e.getDefaultOptions().hydrate?.mutations,...s?.defaultOptions?.mutations,...c},f)}),o.forEach(({queryKey:f,state:c,queryHash:l,meta:u,promise:d,dehydratedAt:y})=>{const g=d?vs(d):void 0,p=c.data===void 0?g?.data:c.data,m=p===void 0?p:r(p);let v=i.get(l);const O=v?.state.status==="pending",w=v?.state.fetchStatus==="fetching";if(v){const h=g&&y!==void 0&&y>v.state.dataUpdatedAt;if(c.dataUpdatedAt>v.state.dataUpdatedAt||h){const{fetchStatus:b,...A}=c;v.setState({...A,data:m})}}else v=i.build(e,{...e.getDefaultOptions().hydrate?.queries,...s?.defaultOptions?.queries,queryKey:f,queryHash:l,meta:u},{...c,data:m,fetchStatus:"idle",status:m!==void 0?"success":c.status});d&&!O&&!w&&(y===void 0||y>v.state.dataUpdatedAt)&&v.fetch(void 0,{initialPromise:Promise.resolve(d).then(r)})})}var Os=fs;function As(){let e=[],t=0,s=o=>{o()},n=o=>{o()},i=Os;const r=o=>{t?e.push(o):i(()=>{s(o)})},a=()=>{const o=e;e=[],o.length&&i(()=>{n(()=>{o.forEach(f=>{s(f)})})})};return{batch:o=>{let f;t++;try{f=o()}finally{t--,t||a()}return f},batchCalls:o=>(...f)=>{r(()=>{o(...f)})},schedule:r,setNotifyFunction:o=>{s=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var I=As(),Cs=class extends he{#e=!0;#t;#s;constructor(){super(),this.#s=e=>{if(!se&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#s=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(s=>{s(e)}))}isOnline(){return this.#e}},Re=new Cs;function xs(e){return Math.min(1e3*2**e,3e4)}function Et(e){return(e??"online")==="online"?Re.isOnline():!0}var Ve=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Ft(e){let t=!1,s=0,n;const i=We(),r=()=>i.status!=="pending",a=p=>{if(!r()){const m=new Ve(p);d(m),e.onCancel?.(m)}},o=()=>{t=!0},f=()=>{t=!1},c=()=>nt.isFocused()&&(e.networkMode==="always"||Re.isOnline())&&e.canRun(),l=()=>Et(e.networkMode)&&e.canRun(),u=p=>{r()||(n?.(),i.resolve(p))},d=p=>{r()||(n?.(),i.reject(p))},y=()=>new Promise(p=>{n=m=>{(r()||c())&&p(m)},e.onPause?.()}).then(()=>{n=void 0,r()||e.onContinue?.()}),g=()=>{if(r())return;let p;const m=s===0?e.initialPromise:void 0;try{p=m??e.fn()}catch(v){p=Promise.reject(v)}Promise.resolve(p).then(u).catch(v=>{if(r())return;const O=e.retry??(se?0:3),w=e.retryDelay??xs,h=typeof w=="function"?w(s,v):w,b=O===!0||typeof O=="number"&&s<O||typeof O=="function"&&O(s,v);if(t||!b){d(v);return}s++,e.onFail?.(s,v),ps(h).then(()=>c()?void 0:y()).then(()=>{t?d(v):g()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(n?.(),i),cancelRetry:o,continueRetry:f,canStart:l,start:()=>(l()?g():y().then(g),i)}}var It=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Be(this.gcTime)&&(this.#e=V.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(se?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(V.clearTimeout(this.#e),this.#e=void 0)}},Ps=class extends It{#e;#t;#s;#n;#i;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.client,this.#s=this.#n.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=pt(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=pt(this.options);t.data!==void 0&&(this.setData(t.data,{updatedAt:t.dataUpdatedAt,manual:!0}),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#s.remove(this)}setData(e,t){const s=ze(this.state.data,e,this.options);return this.#r({data:s,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),s}setState(e,t){this.#r({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#i?.promise;return this.#i?.cancel(e),t?t.then(Q).catch(Q):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>$(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===st||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>G(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Dt(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(e&&this.setOptions(e),!this.options.queryFn){const o=this.observers.find(f=>f.options.queryFn);o&&this.setOptions(o.options)}const s=new AbortController,n=o=>{Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(this.#o=!0,s.signal)})},i=()=>{const o=Tt(this.options,t),c=(()=>{const l={client:this.#n,queryKey:this.queryKey,meta:this.meta};return n(l),l})();return this.#o=!1,this.options.persister?this.options.persister(o,c,this):o(c)},a=(()=>{const o={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:i};return n(o),o})();this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#r({type:"fetch",meta:a.fetchOptions?.meta}),this.#i=Ft({initialPromise:t?.initialPromise,fn:a.fetchFn,onCancel:o=>{o instanceof Ve&&o.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(o,f)=>{this.#r({type:"failed",failureCount:o,error:f})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0});try{const o=await this.#i.start();if(o===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(o),this.#s.config.onSuccess?.(o,this),this.#s.config.onSettled?.(o,this.state.error,this),o}catch(o){if(o instanceof Ve){if(o.silent)return this.#i.promise;if(o.revert){if(this.state.data===void 0)throw o;return this.state.data}}throw this.#r({type:"error",error:o}),this.#s.config.onError?.(o,this),this.#s.config.onSettled?.(this.state.data,o,this),o}finally{this.scheduleGc()}}#r(e){const t=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Mt(s.data,this.options),fetchMeta:e.meta??null};case"success":const n={...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?n:void 0,n;case"error":const i=e.error;return{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),I.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:e})})}};function Mt(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Et(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function pt(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,n=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var Ds=class extends he{constructor(e,t){super(),this.options=t,this.#e=e,this.#r=null,this.#o=We(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#s=void 0;#n=void 0;#i;#a;#o;#r;#y;#h;#d;#u;#c;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),yt(this.#t,this.options)?this.#f():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Je(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Je(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#S(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,s=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof $(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#O(),this.#t.setOptions(this.options),t._defaulted&&!He(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const n=this.hasListeners();n&&gt(this.#t,s,this.options,t)&&this.#f(),this.updateResult(),n&&(this.#t!==s||$(this.options.enabled,this.#t)!==$(t.enabled,this.#t)||G(this.options.staleTime,this.#t)!==G(t.staleTime,this.#t))&&this.#g();const i=this.#m();n&&(this.#t!==s||$(this.options.enabled,this.#t)!==$(t.enabled,this.#t)||i!==this.#l)&&this.#b(i)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),s=this.createResult(t,e);return Ts(this,s)&&(this.#n=s,this.#a=this.options,this.#i=this.#t.state),s}getCurrentResult(){return this.#n}trackResult(e,t){return new Proxy(e,{get:(s,n)=>(this.trackProp(n),t?.(n),n==="promise"&&!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(s,n))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),s=this.#e.getQueryCache().build(this.#e,t);return s.fetch().then(()=>this.createResult(s,t))}fetch(e){return this.#f({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#f(e){this.#O();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Q)),t}#g(){this.#w();const e=G(this.options.staleTime,this.#t);if(se||this.#n.isStale||!Be(e))return;const s=Dt(this.#n.dataUpdatedAt,e)+1;this.#u=V.setTimeout(()=>{this.#n.isStale||this.updateResult()},s)}#m(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#b(e){this.#S(),this.#l=e,!(se||$(this.options.enabled,this.#t)===!1||!Be(this.#l)||this.#l===0)&&(this.#c=V.setInterval(()=>{(this.options.refetchIntervalInBackground||nt.isFocused())&&this.#f()},this.#l))}#v(){this.#g(),this.#b(this.#m())}#w(){this.#u&&(V.clearTimeout(this.#u),this.#u=void 0)}#S(){this.#c&&(V.clearInterval(this.#c),this.#c=void 0)}createResult(e,t){const s=this.#t,n=this.options,i=this.#n,r=this.#i,a=this.#a,f=e!==s?e.state:this.#s,{state:c}=e;let l={...c},u=!1,d;if(t._optimisticResults){const E=this.hasListeners(),P=!E&&yt(e,t),x=E&&gt(e,s,t,n);(P||x)&&(l={...l,...Mt(c.data,e.options)}),t._optimisticResults==="isRestoring"&&(l.fetchStatus="idle")}let{error:y,errorUpdatedAt:g,status:p}=l;d=l.data;let m=!1;if(t.placeholderData!==void 0&&d===void 0&&p==="pending"){let E;i?.isPlaceholderData&&t.placeholderData===a?.placeholderData?(E=i.data,m=!0):E=typeof t.placeholderData=="function"?t.placeholderData(this.#d?.state.data,this.#d):t.placeholderData,E!==void 0&&(p="success",d=ze(i?.data,E,t),u=!0)}if(t.select&&d!==void 0&&!m)if(i&&d===r?.data&&t.select===this.#y)d=this.#h;else try{this.#y=t.select,d=t.select(d),d=ze(i?.data,d,t),this.#h=d,this.#r=null}catch(E){this.#r=E}this.#r&&(y=this.#r,d=this.#h,g=Date.now(),p="error");const v=l.fetchStatus==="fetching",O=p==="pending",w=p==="error",h=O&&v,b=d!==void 0,R={status:p,fetchStatus:l.fetchStatus,isPending:O,isSuccess:p==="success",isError:w,isInitialLoading:h,isLoading:h,data:d,dataUpdatedAt:l.dataUpdatedAt,error:y,errorUpdatedAt:g,failureCount:l.fetchFailureCount,failureReason:l.fetchFailureReason,errorUpdateCount:l.errorUpdateCount,isFetched:l.dataUpdateCount>0||l.errorUpdateCount>0,isFetchedAfterMount:l.dataUpdateCount>f.dataUpdateCount||l.errorUpdateCount>f.errorUpdateCount,isFetching:v,isRefetching:v&&!O,isLoadingError:w&&!b,isPaused:l.fetchStatus==="paused",isPlaceholderData:u,isRefetchError:w&&b,isStale:it(e,t),refetch:this.refetch,promise:this.#o,isEnabled:$(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const E=F=>{R.status==="error"?F.reject(R.error):R.data!==void 0&&F.resolve(R.data)},P=()=>{const F=this.#o=R.promise=We();E(F)},x=this.#o;switch(x.status){case"pending":e.queryHash===s.queryHash&&E(x);break;case"fulfilled":(R.status==="error"||R.data!==x.value)&&P();break;case"rejected":(R.status!=="error"||R.error!==x.reason)&&P();break}}return R}updateResult(){const e=this.#n,t=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#a=this.options,this.#i.data!==void 0&&(this.#d=this.#t),He(t,e))return;this.#n=t;const s=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,i=typeof n=="function"?n():n;if(i==="all"||!i&&!this.#p.size)return!0;const r=new Set(i??this.#p);return this.options.throwOnError&&r.add("error"),Object.keys(this.#n).some(a=>{const o=a;return this.#n[o]!==e[o]&&r.has(o)})};this.#A({listeners:s()})}#O(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#s=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#A(e){I.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Rs(e,t){return $(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function yt(e,t){return Rs(e,t)||e.state.data!==void 0&&Je(e,t,t.refetchOnMount)}function Je(e,t,s){if($(t.enabled,e)!==!1&&G(t.staleTime,e)!=="static"){const n=typeof s=="function"?s(e):s;return n==="always"||n!==!1&&it(e,t)}return!1}function gt(e,t,s,n){return(e!==t||$(n.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&it(e,s)}function it(e,t){return $(t.enabled,e)!==!1&&e.isStaleByTime(G(t.staleTime,e))}function Ts(e,t){return!He(e.getCurrentResult(),t)}function mt(e){return{onFetch:(t,s)=>{const n=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,r=t.state.data?.pages||[],a=t.state.data?.pageParams||[];let o={pages:[],pageParams:[]},f=0;const c=async()=>{let l=!1;const u=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(t.signal.aborted?l=!0:t.signal.addEventListener("abort",()=>{l=!0}),t.signal)})},d=Tt(t.options,t.fetchOptions),y=async(g,p,m)=>{if(l)return Promise.reject();if(p==null&&g.pages.length)return Promise.resolve(g);const O=(()=>{const A={client:t.client,queryKey:t.queryKey,pageParam:p,direction:m?"backward":"forward",meta:t.options.meta};return u(A),A})(),w=await d(O),{maxPages:h}=t.options,b=m?gs:ys;return{pages:b(g.pages,w,h),pageParams:b(g.pageParams,p,h)}};if(i&&r.length){const g=i==="backward",p=g?Es:bt,m={pages:r,pageParams:a},v=p(n,m);o=await y(m,v,g)}else{const g=e??r.length;do{const p=f===0?a[0]??n.initialPageParam:bt(n,o);if(f>0&&p==null)break;o=await y(o,p),f++}while(f<g)}return o};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s):t.fetchFn=c}}}function bt(e,{pages:t,pageParams:s}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,s[n],s):void 0}function Es(e,{pages:t,pageParams:s}){return t.length>0?e.getPreviousPageParam?.(t[0],t,s[0],s):void 0}var Fs=class extends It{#e;#t;#s;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||Is(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})};this.#s=Ft({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(i,r)=>{this.#n({type:"failed",failureCount:i,error:r})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const s=this.state.status==="pending",n=!this.#s.canStart();try{if(s)t();else{this.#n({type:"pending",variables:e,isPaused:n}),await this.#t.config.onMutate?.(e,this);const r=await this.options.onMutate?.(e);r!==this.state.context&&this.#n({type:"pending",context:r,variables:e,isPaused:n})}const i=await this.#s.start();return await this.#t.config.onSuccess?.(i,e,this.state.context,this),await this.options.onSuccess?.(i,e,this.state.context),await this.#t.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,e,this.state.context),this.#n({type:"success",data:i}),i}catch(i){try{throw await this.#t.config.onError?.(i,e,this.state.context,this),await this.options.onError?.(i,e,this.state.context),await this.#t.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,e,this.state.context),i}finally{this.#n({type:"error",error:i})}}finally{this.#t.runNext(this)}}#n(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),I.batch(()=>{this.#e.forEach(s=>{s.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function Is(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ms=class extends he{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#s=0}#e;#t;#s;build(e,t,s){const n=new Fs({mutationCache:this,mutationId:++this.#s,options:e.defaultMutationOptions(t),state:s});return this.add(n),n}add(e){this.#e.add(e);const t=ve(e);if(typeof t=="string"){const s=this.#t.get(t);s?s.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=ve(e);if(typeof t=="string"){const s=this.#t.get(t);if(s)if(s.length>1){const n=s.indexOf(e);n!==-1&&s.splice(n,1)}else s[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=ve(e);if(typeof t=="string"){const n=this.#t.get(t)?.find(i=>i.state.status==="pending");return!n||n===e}else return!0}runNext(e){const t=ve(e);return typeof t=="string"?this.#t.get(t)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){I.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(s=>ft(t,s))}findAll(e={}){return this.getAll().filter(t=>ft(e,t))}notify(e){I.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return I.batch(()=>Promise.all(e.map(t=>t.continue().catch(Q))))}};function ve(e){return e.options.scope?.id}var Qs=class extends he{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,s){const n=t.queryKey,i=t.queryHash??tt(n,t);let r=this.get(i);return r||(r=new Ps({client:e,queryKey:n,queryHash:i,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(n)}),this.add(r)),r}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){I.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(s=>ct(t,s))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(s=>ct(e,s)):t}notify(e){I.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){I.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){I.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ls=class{#e;#t;#s;#n;#i;#a;#o;#r;constructor(t={}){this.#e=t.queryCache||new Qs,this.#t=t.mutationCache||new Ms,this.#s=t.defaultOptions||{},this.#n=new Map,this.#i=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=nt.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=Re.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#r?.(),this.#r=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const s=this.defaultQueryOptions({queryKey:t});return this.#e.get(s.queryHash)?.state.data}ensureQueryData(t){const s=this.defaultQueryOptions(t),n=this.#e.build(this,s),i=n.state.data;return i===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(G(s.staleTime,n))&&this.prefetchQuery(s),Promise.resolve(i))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:s,state:n})=>{const i=n.data;return[s,i]})}setQueryData(t,s,n){const i=this.defaultQueryOptions({queryKey:t}),a=this.#e.get(i.queryHash)?.state.data,o=hs(s,a);if(o!==void 0)return this.#e.build(this,i).setData(o,{...n,manual:!0})}setQueriesData(t,s,n){return I.batch(()=>this.#e.findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,s,n)]))}getQueryState(t){const s=this.defaultQueryOptions({queryKey:t});return this.#e.get(s.queryHash)?.state}removeQueries(t){const s=this.#e;I.batch(()=>{s.findAll(t).forEach(n=>{s.remove(n)})})}resetQueries(t,s){const n=this.#e;return I.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...t},s)))}cancelQueries(t,s={}){const n={revert:!0,...s},i=I.batch(()=>this.#e.findAll(t).map(r=>r.cancel(n)));return Promise.all(i).then(Q).catch(Q)}invalidateQueries(t,s={}){return I.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},s)))}refetchQueries(t,s={}){const n={...s,cancelRefetch:s.cancelRefetch??!0},i=I.batch(()=>this.#e.findAll(t).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let a=r.fetch(void 0,n);return n.throwOnError||(a=a.catch(Q)),r.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(i).then(Q)}fetchQuery(t){const s=this.defaultQueryOptions(t);s.retry===void 0&&(s.retry=!1);const n=this.#e.build(this,s);return n.isStaleByTime(G(s.staleTime,n))?n.fetch(s):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Q).catch(Q)}fetchInfiniteQuery(t){return t.behavior=mt(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Q).catch(Q)}ensureInfiniteQueryData(t){return t.behavior=mt(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Re.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#s}setDefaultOptions(t){this.#s=t}setQueryDefaults(t,s){this.#n.set(le(t),{queryKey:t,defaultOptions:s})}getQueryDefaults(t){const s=[...this.#n.values()],n={};return s.forEach(i=>{ue(t,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(t,s){this.#i.set(le(t),{mutationKey:t,defaultOptions:s})}getMutationDefaults(t){const s=[...this.#i.values()],n={};return s.forEach(i=>{ue(t,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const s={...this.#s.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return s.queryHash||(s.queryHash=tt(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===st&&(s.enabled=!1),s}defaultMutationOptions(t){return t?._defaulted?t:{...this.#s.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}};const Xe=Symbol("store-raw"),te=Symbol("store-node"),k=Symbol("store-has"),Qt=Symbol("store-self");function Lt(e){let t=e[J];if(!t&&(Object.defineProperty(e,J,{value:t=new Proxy(e,qs)}),!Array.isArray(e))){const s=Object.keys(e),n=Object.getOwnPropertyDescriptors(e);for(let i=0,r=s.length;i<r;i++){const a=s[i];n[a].get&&Object.defineProperty(e,a,{enumerable:n[a].enumerable,get:n[a].get.bind(t)})}}return t}function z(e){let t;return e!=null&&typeof e=="object"&&(e[J]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function Y(e,t=new Set){let s,n,i,r;if(s=e!=null&&e[Xe])return s;if(!z(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let a=0,o=e.length;a<o;a++)i=e[a],(n=Y(i,t))!==i&&(e[a]=n)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const a=Object.keys(e),o=Object.getOwnPropertyDescriptors(e);for(let f=0,c=a.length;f<c;f++)r=a[f],!o[r].get&&(i=e[r],(n=Y(i,t))!==i&&(e[r]=n))}return e}function Te(e,t){let s=e[t];return s||Object.defineProperty(e,t,{value:s=Object.create(null)}),s}function ce(e,t,s){if(e[t])return e[t];const[n,i]=U(s,{equals:!1,internal:!0});return n.$=i,e[t]=n}function $s(e,t){const s=Reflect.getOwnPropertyDescriptor(e,t);return!s||s.get||!s.configurable||t===J||t===te||(delete s.value,delete s.writable,s.get=()=>e[J][t]),s}function $t(e){Ue()&&ce(Te(e,te),Qt)()}function _s(e){return $t(e),Reflect.ownKeys(e)}const qs={get(e,t,s){if(t===Xe)return e;if(t===J)return s;if(t===je)return $t(e),s;const n=Te(e,te),i=n[t];let r=i?i():e[t];if(t===te||t===k||t==="__proto__")return r;if(!i){const a=Object.getOwnPropertyDescriptor(e,t);Ue()&&(typeof r!="function"||e.hasOwnProperty(t))&&!(a&&a.get)&&(r=ce(n,t,r)())}return z(r)?Lt(r):r},has(e,t){return t===Xe||t===J||t===je||t===te||t===k||t==="__proto__"?!0:(Ue()&&ce(Te(e,k),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:_s,getOwnPropertyDescriptor:$s};function L(e,t,s,n=!1){if(!n&&e[t]===s)return;const i=e[t],r=e.length;s===void 0?(delete e[t],e[k]&&e[k][t]&&i!==void 0&&e[k][t].$()):(e[t]=s,e[k]&&e[k][t]&&i===void 0&&e[k][t].$());let a=Te(e,te),o;if((o=ce(a,t,i))&&o.$(()=>s),Array.isArray(e)&&e.length!==r){for(let f=e.length;f<r;f++)(o=a[f])&&o.$();(o=ce(a,"length",r))&&o.$(e.length)}(o=a[Qt])&&o.$()}function _t(e,t){const s=Object.keys(t);for(let n=0;n<s.length;n+=1){const i=s[n];L(e,i,t[i])}}function js(e,t){if(typeof t=="function"&&(t=t(e)),t=Y(t),Array.isArray(t)){if(e===t)return;let s=0,n=t.length;for(;s<n;s++){const i=t[s];e[s]!==i&&L(e,s,i)}L(e,"length",n)}else _t(e,t)}function oe(e,t,s=[]){let n,i=e;if(t.length>1){n=t.shift();const a=typeof n,o=Array.isArray(e);if(Array.isArray(n)){for(let f=0;f<n.length;f++)oe(e,[n[f]].concat(t),s);return}else if(o&&a==="function"){for(let f=0;f<e.length;f++)n(e[f],f)&&oe(e,[f].concat(t),s);return}else if(o&&a==="object"){const{from:f=0,to:c=e.length-1,by:l=1}=n;for(let u=f;u<=c;u+=l)oe(e,[u].concat(t),s);return}else if(t.length>1){oe(e[n],t,[n].concat(s));return}i=e[n],s=[n].concat(s)}let r=t[0];typeof r=="function"&&(r=r(i,s),r===i)||n===void 0&&r==null||(r=Y(r),n===void 0||z(i)&&z(r)&&!Array.isArray(r)?_t(i,r):L(e,n,r))}function qt(...[e,t]){const s=Y(e||{}),n=Array.isArray(s),i=Lt(s);function r(...a){Ne(()=>{n&&a.length===1?js(s,a[0]):oe(s,a)})}return[i,r]}const Ye=Symbol("store-root");function ee(e,t,s,n,i){const r=t[s];if(e===r)return;const a=Array.isArray(e);if(s!==Ye&&(!z(e)||!z(r)||a!==Array.isArray(r)||i&&e[i]!==r[i])){L(t,s,e);return}if(a){if(e.length&&r.length&&(!n||i&&e[0]&&e[0][i]!=null)){let c,l,u,d,y,g,p,m;for(u=0,d=Math.min(r.length,e.length);u<d&&(r[u]===e[u]||i&&r[u]&&e[u]&&r[u][i]&&r[u][i]===e[u][i]);u++)ee(e[u],r,u,n,i);const v=new Array(e.length),O=new Map;for(d=r.length-1,y=e.length-1;d>=u&&y>=u&&(r[d]===e[y]||i&&r[d]&&e[y]&&r[d][i]&&r[d][i]===e[y][i]);d--,y--)v[y]=r[d];if(u>y||u>d){for(l=u;l<=y;l++)L(r,l,e[l]);for(;l<e.length;l++)L(r,l,v[l]),ee(e[l],r,l,n,i);r.length>e.length&&L(r,"length",e.length);return}for(p=new Array(y+1),l=y;l>=u;l--)g=e[l],m=i&&g?g[i]:g,c=O.get(m),p[l]=c===void 0?-1:c,O.set(m,l);for(c=u;c<=d;c++)g=r[c],m=i&&g?g[i]:g,l=O.get(m),l!==void 0&&l!==-1&&(v[l]=r[c],l=p[l],O.set(m,l));for(l=u;l<e.length;l++)l in v?(L(r,l,v[l]),ee(e[l],r,l,n,i)):L(r,l,e[l])}else for(let c=0,l=e.length;c<l;c++)ee(e[c],r,c,n,i);r.length>e.length&&L(r,"length",e.length);return}const o=Object.keys(e);for(let c=0,l=o.length;c<l;c++)ee(e[o[c]],r,o[c],n,i);const f=Object.keys(r);for(let c=0,l=f.length;c<l;c++)e[f[c]]===void 0&&L(r,f[c],void 0)}function Ze(e,t={}){const{merge:s,key:n="id"}=t,i=Y(e);return r=>{if(!z(r)||!z(i))return i;const a=ee(i,{[Ye]:r},Ye,s,n);return a===void 0?r:a}}var jt=St(void 0),Ns=e=>{if(e)return e;const t=Ot(jt);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t()},Us=e=>(X(t=>(t?.(),e.client.mount(),e.client.unmount.bind(e.client))),Fe(()=>e.client.unmount()),W(jt.Provider,{value:()=>e.client,get children(){return e.children}})),ks=St(()=>!1),Ks=()=>Ot(ks);function Bs(e,t,s,n){if(s===!1)return t;if(typeof s=="function"){const a=s(e.data,t.data);return{...t,data:a}}let i=t.data;if(e.data===void 0)try{i=structuredClone(i)}catch{}const r=Ze(i,{key:s})(e.data);return{...t,data:r}}var Hs=(e,t)=>t;function Gs(e,t,s){const n=j(()=>Ns(s?.())),i=Ks(),r=j(()=>{const h=n().defaultQueryOptions(e());return h._optimisticResults=i()?"isRestoring":"optimistic",h.structuralSharing=!1,h}),a=r(),[o,f]=U(new t(n(),r()));let c=o().getOptimisticResult(r());const[l,u]=qt(c),d=()=>o().subscribe(b=>{c=b,queueMicrotask(()=>{p&&O()})});function y(h){const b=o().options,A=b.reconcile;u(R=>Bs(R,h,A===void 0?!1:A,b.queryHash))}function g(){return[()=>l,h=>{const b=Y(l);if(typeof h=="function"&&(h=h(b)),h?.hydrationData){const{hydrationData:A,...R}=h;h=R}y(h)}]}let p=null,m=null;const[v,{refetch:O}]=Ht(()=>{const h=o();return new Promise((b,A)=>{if(m=b,!p&&!i()&&(p=d()),h.updateResult(),c.isError&&!c.isFetching&&!i()&&ms(h.options.throwOnError,[c.error,h.getCurrentQuery()]))return y(c),A(c.error);if(!c.isLoading)return m=null,b(Hs(h.getCurrentQuery(),c));y(c)})},{storage:g,get deferStream(){return e().deferStream},onHydrated(h,b){if(b.value&&"hydrationData"in b.value&&Ss(n(),{queries:[{...b.value.hydrationData}]}),p)return;const A={...a};(a.staleTime||!a.initialData)&&b.value&&(A.refetchOnMount=!1),o().setOptions(A),y(o().getOptimisticResult(A)),p=d()}});Se(_e(n,h=>{p&&p();const b=new t(h,r());p=d(),f(b)},{defer:!0})),Se(_e(i,h=>{h||O()},{defer:!0})),Fe(()=>{p&&(p(),p=null),m&&(m(c),m=null)}),Se(_e([o,r],([h,b])=>{h.setOptions(b),y(h.getOptimisticResult(b)),O()},{defer:!0}));const w={get(h,b){return b==="data"?l.data!==void 0?v.latest?.data:v()?.data:Reflect.get(h,b)}};return new Proxy(l,w)}function zs(e,t){return Gs(j(()=>e()),Ds,t)}var Ws=class extends Ls{constructor(e={}){super(e)}},Vs=zs;function Js(...e){return e.map((t,s)=>s===0?t.replace(/\/+$/,""):t.replace(/^\/+|\/+$/g,"")).join("/")}let re;function Xs(){if(re)return re;const{pathname:e}=window.location;if(e.includes("/proxy/")){const t=e.match(/^(.*?)\/proxy\//);t&&([re]=t)}else re="/";return re}const Ys=`
  query LogMetadataListFetch($namespace: String = "") {
    logMetadataList(namespace: $namespace) {
      items {
        id
        spec { nodeName namespace podName containerName containerID }
        fileInfo { size lastModifiedAt }
      }
    }
  }
`,Zs=`
  subscription LogMetadataListWatch($namespace: String = "") {
    logMetadataWatch(namespace: $namespace) {
      type
      object {
        id
        spec { nodeName namespace podName containerName containerID }
        fileInfo { size lastModifiedAt }
      }
    }
  }
`;function Nt(){const e=Xs();return new URL(Js(e,"cluster-api-proxy","minikube","kubetail-system","kubetail-cluster-api","graphql"),window.location.origin).toString()}async function en(e=""){const t=Nt(),s=await fetch(t,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({query:Ys,variables:{namespace:e}})});if(!s.ok)throw new Error(`HTTP ${s.status}`);const n=await s.json();if(n.errors)throw new Error("GraphQL error");return n.data?.logMetadataList?.items??[]}function tn(e,t,s){const i=Nt().replace(/^http/,"ws");let r=!1,a=null,o="1",f=null,c="";function l(){r||(a=new WebSocket(i,["graphql-transport-ws","graphql-ws"]),a.onopen=()=>{c=a?.protocol,a?.send(JSON.stringify({type:"connection_init"}))},a.onmessage=u=>{try{const d=JSON.parse(u.data);switch(d.type){case"connection_ack":{if(o=String(Date.now()),!r){const y=c==="graphql-ws"?"start":"subscribe";a?.send(JSON.stringify({id:o,type:y,payload:e}))}break}case"next":case"data":{t(d);break}case"error":{s?.(d);break}case"connection_error":{s?.(d);break}case"complete":break;case"ping":{a?.send(JSON.stringify({type:"pong"}));break}case"ka":break;default:break}}catch(d){s?.(d)}},a.onclose=u=>{console.warn("WS closed",{code:u.code,reason:u.reason}),!r&&(f=window.setTimeout(()=>{f=null,l()},3e3))},a.onerror=u=>s?.(u))}return l(),()=>{r=!0,f!==null&&(clearTimeout(f),f=null);try{if(a&&a.readyState===WebSocket.OPEN){const u=c==="graphql-ws"?"stop":"complete";a.send(JSON.stringify({id:o,type:u})),a.close(1e3,"client complete")}else a&&(a.readyState===WebSocket.CONNECTING||a.readyState===WebSocket.CLOSING)&&a.close();a&&(a.onopen=null,a.onmessage=null,a.onclose=null,a.onerror=null)}catch{}}}var sn=fe("<span style=color:#666>Fetching..."),nn=fe("<tr><td colspan=7>No items"),rn=fe(`<div style="font-family:ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial"><h1 style=font-size:20px;margin-bottom:12px>Kubetail Dashboard (Solid POC)</h1><div style=align-items:center;margin-bottom:12px><label for=ns>Namespace:</label><input id=ns placeholder="Leave empty for all"style=border-radius:4px><button style=border-radius:4px>Refresh</button></div><div><table><thead><tr><th>Node</th><th>Namespace</th><th>Pod</th><th>Container</th><th>Container ID</th><th>Size (bytes)</th><th>Last Event</th></tr></thead><tbody></tbody></table></div><style>
        .flash { background-color: #eaffea; transition: background-color 0.8s ease; }
      `),on=fe("<tr><td colspan=7>Loading..."),an=fe("<tr><td></td><td></td><td></td><td></td><td style=font-family:monospace></td><td></td><td>");function ln(){const[e,t]=U(""),[s,n]=qt({}),i=new Map,[r,a]=U([]),o=l=>_(()=>s[l]?.lastModifiedAtDate?.getTime()??0),f=(l,u)=>{const d=o(u);let y=0,g=l.length;for(;y<g;){const p=y+g>>>1,m=o(l[p]);d>m||d===m&&u<l[p]?g=p:y=p+1}return y},c=Vs(()=>({queryKey:["log-metadata",e()],queryFn:()=>en(e()),refetchOnWindowFocus:!1}));return rt(()=>{const l=c.data??[],u={};for(const y of l)u[y.id]={...y,lastModifiedAtDate:y.fileInfo.lastModifiedAt?new Date(y.fileInfo.lastModifiedAt):null};const d=Object.keys(u);d.sort((y,g)=>{const p=u[g]?.lastModifiedAtDate?.getTime()??0,m=u[y]?.lastModifiedAtDate?.getTime()??0;return p!==m?p-m:y<g?-1:y>g?1:0}),Ne(()=>{n(Ze(u)),a(d),i.clear()})}),rt(()=>{const l=e(),u=new Map,d=new Set,y=()=>{const m=[],v=[];Ne(()=>{d.size&&d.forEach(w=>{s[w]&&(n(w,void 0),v.push(w))}),u.size&&u.forEach((w,h)=>{const b=s[h],A=w.fileInfo.lastModifiedAt?new Date(w.fileInfo.lastModifiedAt):null;if(b){const R=b.lastModifiedAtDate?.getTime()??0,E=A?.getTime()??0,P=w.fileInfo.size!==b.fileInfo.size,x=E!==R;P&&n(h,"fileInfo","size",w.fileInfo.size),x&&n(h,"lastModifiedAtDate",A),n(h,"spec",Ze(w.spec)),w.fileInfo.lastModifiedAt!==void 0&&n(h,"fileInfo","lastModifiedAt",w.fileInfo.lastModifiedAt),(P||x)&&m.push(h)}else n(h,{...w,lastModifiedAtDate:A}),m.push(h)}),a(w=>{let h=w.slice();if(v.length){const b=new Set(v);h=h.filter(A=>!b.has(A))}if(m.length){const b=new Set;for(const A of m){if(b.has(A))continue;b.add(A);const R=h.indexOf(A);R>=0&&h.splice(R,1);const E=f(h,A);h.splice(E,0,A)}}return h})}),u.clear();const O=Array.from(d);d.clear(),O.length&&O.forEach(w=>i.delete(w)),m.length&&requestAnimationFrame(()=>{m.forEach(w=>{const h=i.get(w);if(!h)return;h.classList.remove("flash"),h.offsetWidth,h.classList.add("flash");const b=()=>{h.classList.remove("flash"),h.removeEventListener("animationend",b)};h.addEventListener("animationend",b,{once:!0})})})},g=window.setInterval(()=>{(u.size||d.size)&&y()},2e3),p=tn({query:Zs,variables:{namespace:l}},m=>{const v=m.payload?.data?.logMetadataWatch;if(!v)return;const{type:O,object:w}=v,h=w?.id;if(O==="ADDED"||O==="MODIFIED"){if(!w||!h)return;u.set(h,w),d.delete(h)}else if(O==="DELETED"){if(!h)return;u.delete(h),d.add(h)}},m=>{console.error("WS error",m)});Fe(()=>{clearInterval(g),(u.size||d.size)&&y(),p()})}),(()=>{var l=rn(),u=l.firstChild,d=u.nextSibling,y=d.firstChild,g=y.nextSibling,p=g.nextSibling,m=d.nextSibling,v=m.firstChild,O=v.firstChild,w=O.firstChild,h=w.firstChild,b=h.nextSibling,A=b.nextSibling,R=A.nextSibling,E=R.nextSibling,P=E.nextSibling,x=P.nextSibling,F=O.nextSibling;return S(l,"padding","16px"),S(d,"display","flex"),S(d,"gap","8px"),g.$$input=C=>t(C.currentTarget.value),S(g,"padding","6px 8px"),S(g,"border","1px solid #ddd"),p.$$click=()=>c.refetch(),S(p,"padding","6px 10px"),S(p,"border","1px solid #ccc"),S(p,"cursor","pointer"),N(d,W(qe,{get when(){return c.isFetching},get children(){return sn()}}),null),S(v,"width","100%"),S(v,"borderCollapse","collapse"),S(v,"fontSize","14px"),S(v,"border","1px solid #eee"),S(w,"background","#fafafa"),S(h,"textAlign","left"),S(h,"padding","8px"),S(h,"borderBottom","1px solid #eee"),S(b,"textAlign","left"),S(b,"padding","8px"),S(b,"borderBottom","1px solid #eee"),S(A,"textAlign","left"),S(A,"padding","8px"),S(A,"borderBottom","1px solid #eee"),S(R,"textAlign","left"),S(R,"padding","8px"),S(R,"borderBottom","1px solid #eee"),S(E,"textAlign","left"),S(E,"padding","8px"),S(E,"borderBottom","1px solid #eee"),S(P,"textAlign","right"),S(P,"padding","8px"),S(P,"borderBottom","1px solid #eee"),S(x,"textAlign","left"),S(x,"padding","8px"),S(x,"borderBottom","1px solid #eee"),N(F,W(qe,{get when(){return!c.isLoading},get fallback(){return(()=>{var C=on(),q=C.firstChild;return S(q,"padding","12px"),C})()},get children(){return[W(ss,{get each(){return r()},children:C=>s[C]?(()=>{var de=an(),pe=de.firstChild,ye=pe.nextSibling,ge=ye.nextSibling,me=ge.nextSibling,be=me.nextSibling,ie=be.nextSibling,Me=ie.nextSibling;return as(Qe=>i.set(C,Qe),de),os(de,`row-${C}`),S(pe,"padding","8px"),S(pe,"borderBottom","1px solid #f3f3f3"),N(pe,()=>s[C].spec.nodeName),S(ye,"padding","8px"),S(ye,"borderBottom","1px solid #f3f3f3"),N(ye,()=>s[C].spec.namespace),S(ge,"padding","8px"),S(ge,"borderBottom","1px solid #f3f3f3"),N(ge,()=>s[C].spec.podName),S(me,"padding","8px"),S(me,"borderBottom","1px solid #f3f3f3"),N(me,()=>s[C].spec.containerName),S(be,"padding","8px"),S(be,"borderBottom","1px solid #f3f3f3"),N(be,()=>s[C].spec.containerID),S(ie,"padding","8px"),S(ie,"borderBottom","1px solid #f3f3f3"),S(ie,"textAlign","right"),N(ie,()=>s[C].fileInfo.size),S(Me,"padding","8px"),S(Me,"borderBottom","1px solid #f3f3f3"),N(Me,(()=>{var Qe=at(()=>!!s[C].lastModifiedAtDate);return()=>Qe()?s[C].lastModifiedAtDate.toLocaleString():"—"})()),de})():null}),W(qe,{get when(){return at(()=>r().length===0)()&&!c.isLoading},get children(){var C=nn(),q=C.firstChild;return S(q,"padding","12px"),S(q,"color","#666"),C}})]}})),X(()=>p.disabled=c.isLoading),X(()=>g.value=e()),l})()}rs(["input","click"]);const un=new Ws({defaultOptions:{queries:{gcTime:6e4,retry:1,refetchOnWindowFocus:!1}}});is(()=>W(Us,{client:un,get children(){return W(ln,{})}}),document.getElementById("root"));
